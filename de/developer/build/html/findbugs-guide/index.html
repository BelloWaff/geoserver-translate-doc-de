
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Findbugs Guide &mdash; GeoServer 2.2.x Developer Manual</title>
  <link rel="stylesheet" href="../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x Developer Manual" href="../index.html" />
      <link rel="next" title="Programming Guide" href="../programming-guide/index.html" />
      <link rel="prev" title="Eclipse Guide" href="../eclipse-guide/index.html" />
</head>
<body class="findbugs-guide/index">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../index.html">GeoServer 2.2.x Developer Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoServer 2.2.x Developer Manual</a> &raquo;</li>
  <li>Findbugs Guide</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../programming-guide/index.html" title="Programming Guide"
       accesskey="N">next</a></li>
  <li>
    <a href="../eclipse-guide/index.html" title="Eclipse Guide"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="findbugs-guide">
<h1>Findbugs Guide<a class="headerlink" href="#findbugs-guide" title="Permalink to this headline">¶</a></h1>
<p>Findbugs is a static analysis tool for Java bytecode.
It operates by searching compiled Java code for common programming errors such as dereferencing null pointers.
In GeoServer we use Findbugs to augment the unit test suite.</p>
<p>We publish the analysis results as part of GeoServer&#8217;s nightly builds.
You can view them online at <a class="reference external" href="http://gridlock.opengeo.org:8080/hudson/job/geoserver-trunk-findbugs/">http://gridlock.opengeo.org:8080/hudson/job/geoserver-trunk-findbugs/</a> .
Click the <em class="guilabel">FindBugs Warnings</em> link in the left sidebar to view the bug report for the latest build.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">More information on Findbugs is available at <a class="reference external" href="http://findbugs.sourceforge.net/">http://findbugs.sourceforge.net/</a> .</p>
</div>
<div class="section" id="running-the-findbugs-report-locally-with-maven">
<h2>Running the Findbugs Report Locally with Maven<a class="headerlink" href="#running-the-findbugs-report-locally-with-maven" title="Permalink to this headline">¶</a></h2>
<p>Findbugs is integrated with <a class="reference internal" href="../maven-guide/index.html"><em>Maven</em></a>, enabling automatic running of Findbugs checks locally.</p>
<div class="section" id="generating-a-report">
<h3>Generating a report<a class="headerlink" href="#generating-a-report" title="Permalink to this headline">¶</a></h3>
<p>The basic form for running a report is to use the <tt class="docutils literal"><span class="pre">findbugs:findbugs</span></tt> goal for Maven.
This requires bytecode to already be generated, so the full command is:</p>
<div class="highlight-python"><pre>$ mvn compile findbugs:findbugs</pre>
</div>
<p>This command respects profiles for <a class="reference internal" href="../policies/community-modules.html"><em>Community Modules</em></a>.
For example, you can generate a Findbugs report for the monitoring community module using:</p>
<div class="highlight-python"><pre>$ mvn compile findbugs:findbugs -Pmonitoring</pre>
</div>
</div>
<div class="section" id="filters">
<h3>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h3>
<p>Findbugs patterns vary in their reliability - sometimes a questionable construct is the right solution to a problem.
In order to avoid distractions from bug patterns that don&#8217;t always indicate real problems, the GeoServer project maintains an bug filter that has been vetted by the project.
When using Maven, you can enable this filter with:</p>
<div class="highlight-python"><pre>$ mvn compile findbugs:findbugs -P findbugs \
    -Dfindbugs.excludeFilterFile=/path/to/src/maven/findbugs/findbugs-excludeNone.xml</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that it&#8217;s necessary to specify the <strong>full path</strong> to the exclude filter.</p>
</div>
</div>
<div class="section" id="browsing-bugs">
<h3>Browsing Bugs<a class="headerlink" href="#browsing-bugs" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">findbugs:findbugs</span></tt> goal generates a report of Findbugs violations in XML format, stored in <tt class="file docutils literal"><span class="pre">target/findbugsXml.xml</span></tt> in each project.
For manual inspection, Findbugs provides a graphical browser with descriptions of the potential problems found, and sorting/filtering/linking to sources for each detected violation.
To launch it, switch into a module first and use the <tt class="docutils literal"><span class="pre">findbugs:gui</span></tt> Maven goal:</p>
<div class="highlight-python"><pre>$ cd main/
$ mvn findbugs:gui</pre>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you do not change directories Maven will traverse all modules and launch the findbugs browser for each in sequence!!
If you do so, you can cancel with <tt class="kbd docutils literal"><span class="pre">Control+C</span></tt> in the terminal window where Maven is running.</p>
</div>
<div class="figure">
<img alt="../_images/findbugs-browser.png" src="../_images/findbugs-browser.png" />
<p class="caption">The Findbugs bug browser running against the GeoServer Main module</p>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">More information on the Findbugs Maven plugin is available at <a class="reference external" href="http://mojo.codehaus.org/findbugs-maven-plugin/">http://mojo.codehaus.org/findbugs-maven-plugin/</a> .</p>
</div>
</div>
</div>
<div class="section" id="using-the-findbugs-eclipse-plugin">
<h2>Using the Findbugs Eclipse Plugin<a class="headerlink" href="#using-the-findbugs-eclipse-plugin" title="Permalink to this headline">¶</a></h2>
<p>Findbugs integrates with <a class="reference internal" href="../eclipse-guide/index.html"><em>Eclipse Guide</em></a> as well.
This allows you to run bug reports and browse their results in the same tool you use to edit code.</p>
<p>For more information on installing and using the Findbugs plugin for Eclipse, see <a class="reference external" href="http://findbugs.sourceforge.net/manual/eclipse.html">http://findbugs.sourceforge.net/manual/eclipse.html</a> .</p>
<div class="figure">
<img alt="../_images/findbugs-eclipse.png" src="../_images/findbugs-eclipse.png" />
<p class="caption">The Findbugs Eclipse perspective browsing the Geoserver Main module</p>
</div>
</div>
<div class="section" id="fixing-bugs-from-findbugs">
<h2>Fixing Bugs from Findbugs<a class="headerlink" href="#fixing-bugs-from-findbugs" title="Permalink to this headline">¶</a></h2>
<p>We are always looking to eliminate bugs from GeoServer!
If you want to help out, one way is to remove one of the Findbugs rules from the exclusion filter, then re-run the analysis locally.
Once you fix all the bugs, submit a patch to GeoServer for review.
A core developer will review the changes, and we&#8217;ll be able to make our &#8220;lax&#8221; Findbugs filter that much stricter.</p>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="../eclipse-guide/index.html" title="previous chapter">Eclipse Guide</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../programming-guide/index.html" title="next chapter">Programming Guide</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Findbugs Guide</a><ul>
<li><a class="reference internal" href="#running-the-findbugs-report-locally-with-maven">Running the Findbugs Report Locally with Maven</a><ul>
<li><a class="reference internal" href="#generating-a-report">Generating a report</a></li>
<li><a class="reference internal" href="#filters">Filters</a></li>
<li><a class="reference internal" href="#browsing-bugs">Browsing Bugs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-findbugs-eclipse-plugin">Using the Findbugs Eclipse Plugin</a></li>
<li><a class="reference internal" href="#fixing-bugs-from-findbugs">Fixing Bugs from Findbugs</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="../eclipse-guide/index.html" title="previous chapter">Eclipse Guide</a></li>
            <li>Next: <a href="../programming-guide/index.html" title="next chapter">Programming Guide</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/findbugs-guide/index.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright 2011 GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>