
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Java Considerations &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../index.html" />
      <link rel="up" title="Running in a Production Environment" href="index.html" />
      <link rel="next" title="Container Considerations" href="container.html" />
      <link rel="prev" title="Running in a Production Environment" href="index.html" />
</head>
<body class="production/java">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Running in a Production Environment</a> &raquo;</li>
  <li>Java Considerations</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="container.html" title="Container Considerations"
       accesskey="N">next</a></li>
  <li>
    <a href="index.html" title="Running in a Production Environment"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="java-considerations">
<span id="production-java"></span><h1>Java Considerations<a class="headerlink" href="#java-considerations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="use-oracle-jre">
<h2>Use Oracle JRE<a class="headerlink" href="#use-oracle-jre" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As of version 2.0, a Java Runtime Environment (JRE) is sufficient to run GeoServer.  GeoServer no longer requires a Java Development Kit (JDK).</p>
</div>
<p>GeoServer&#8217;s speed depends a lot on the chosen Java Runtime Environment (JRE).  For best performance, use <a class="reference external" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Oracle JRE 6</a> (also known as JRE 1.6) or newer.  (As of GeoServer 2.2.x, Oracle JRE 5 is no longer supported.)  JREs other than those released by Oracle may work correctly, but are generally not tested or supported.  Users report GeoServer to be working with OpenJDK, but expect reductions in 2D rendering performance.</p>
</div>
<div class="section" id="install-native-jai-and-jai-image-i-o-extensions">
<h2>Install native JAI and JAI Image I/O extensions<a class="headerlink" href="#install-native-jai-and-jai-image-i-o-extensions" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://java.sun.com/javase/technologies/desktop/media/">Java Advanced Imaging API</a> (JAI) is an advanced image manipulation library built by Oracle.  GeoServer requires JAI to work with coverages and leverages it for WMS output generation. By default, GeoServer ships with the pure Java version of JAI, but <strong>for best performance, install the native JAI version in your JDK/JRE</strong>.</p>
<p>In particular, installing the native JAI is important for all raster processing, which is used heavily in both WMS and WCS to rescale, cut and reproject rasters. Installing the native JAI is also important for all raster reading and writing, which affects both WMS and WCS.  Finally, native JAI is very useful even if there is no raster data involved, as WMS output encoding requires writing PNG/GIF/JPEG images, which are themselves rasters.</p>
<p>Native extensions are available for Windows, Linux and Solaris (32 and 64 bit systems).  They are, however, not available for OS X.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These installers are limited to allow adding native extensions to just one version of the JDK/JRE on your system.  If native extensions are needed on multiple versions, manually unpacking the extensions will be necessary.  See the section on <a class="reference internal" href="#native-jai-manual-install"><em>Installing native JAI manually</em></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These installers are also only able to apply the extensions to the currently used JDK/JRE.  If native extensions are needed on a different JDK/JRE than that which is currently used, it will be necessary to uninstall the current one first, then run the setup program against the remaining JDK/JRE.</p>
</div>
<div class="section" id="installing-native-jai-on-windows">
<h3>Installing native JAI on Windows<a class="headerlink" href="#installing-native-jai-on-windows" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Go to the <a class="reference external" href="http://download.java.net/media/jai/builds/release/1_1_3/">JAI download page</a> and download the Windows installer for version 1.1.3. At the time of writing only the 32 bit version of the installer is available, so if you are using a JDK, you will want to download <a class="reference external" href="http://download.java.net/media/jai/builds/release/1_1_3/jai-1_1_3-lib-windows-i586-jdk.exe">jai-1_1_3-lib-windows-i586-jdk.exe</a>, and if you are using a JRE, you will want to download <a class="reference external" href="http://download.java.net/media/jai/builds/release/1_1_3/jai-1_1_3-lib-windows-i586-jre.exe">jai-1_1_3-lib-windows-i586-jre.exe</a>.</li>
<li>Run the installer and point it to the JDK/JRE install that GeoServer will use to run.</li>
<li>Go to the <a class="reference external" href="http://download.java.net/media/jai-imageio/builds/release/1.1/">JAI Image I/O download page</a> and download the Windows installer for version 1.1. At the time of writing only the 32 bit version of the installer is available, so if you are using a JDK, you will want to download <a class="reference external" href="http://download.java.net/media/jai-imageio/builds/release/1.1/jai_imageio-1_1-lib-windows-i586-jdk.exe">jai_imageio-1_1-lib-windows-i586-jdk.exe</a>, and if you are using a JRE, you will want to download <a class="reference external" href="http://download.java.net/media/jai-imageio/builds/release/1.1/jai_imageio-1_1-lib-windows-i586-jre.exe">jai_imageio-1_1-lib-windows-i586-jre.exe</a></li>
<li>Run the installer and point it to the JDK/JRE install that GeoServer will use to run.</li>
</ol>
</div>
<div class="section" id="installing-native-jai-on-linux">
<h3>Installing native JAI on Linux<a class="headerlink" href="#installing-native-jai-on-linux" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Go to the <a class="reference external" href="http://download.java.net/media/jai/builds/release/1_1_3/">JAI download page</a> and download the Linux installer for version 1.1.3, choosing the appropriate architecture:</p>
<ul class="simple">
<li><cite>i586</cite> for the 32 bit systems</li>
<li><cite>amd64</cite> for the 64 bit ones (even if using Intel processors)</li>
</ul>
</li>
<li><p class="first">Copy the file into the directory containing the JDK/JRE and then run it.  For example, on an Ubuntu 32 bit system:</p>
<div class="highlight-python"><pre>$ sudo cp jai-1_1_3-lib-linux-i586-jdk.bin /usr/lib/jvm/java-6-sun
$ cd /usr/lib/jvm/java-6-sun
$ sudo sh jai-1_1_3-lib-linux-i586-jdk.bin
# accept license
$ sudo rm jai-1_1_3-lib-linux-i586-jdk.bin</pre>
</div>
</li>
<li><p class="first">Go to the <a class="reference external" href="http://download.java.net/media/jai-imageio/builds/release/1.1/">JAI Image I/O download page</a> and download the Linux installer for version 1.1, choosing the appropriate architecture:</p>
<ul class="simple">
<li><cite>i586</cite> for the 32 bit systems</li>
<li><cite>amd64</cite> for the 64 bit ones (even if using Intel processors)</li>
</ul>
</li>
<li><p class="first">Copy the file into the directory containing the JDK/JRE and then run it.  If you encounter difficulties, you may need to export the environment variable <tt class="docutils literal"><span class="pre">_POSIX2_VERSION=199209</span></tt>. For example, on a Ubuntu 32 bit Linux system:</p>
<div class="highlight-python"><pre>$ sudo cp jai_imageio-1_1-lib-linux-i586-jdk.bin /usr/lib/jvm/java-6-sun
$ cd /usr/lib/jvm/java-6-sun
$ sudo su
$ export _POSIX2_VERSION=199209
$ sh jai_imageio-1_1-lib-linux-i586-jdk.bin
# accept license
$ rm ./jai_imageio-1_1-lib-linux-i586-jdk.bin
$ exit</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="installing-native-jai-manually">
<span id="native-jai-manual-install"></span><h3>Installing native JAI manually<a class="headerlink" href="#installing-native-jai-manually" title="Permalink to this headline">¶</a></h3>
<p>You can install the native JAI manually if you encounter problems using the above installers, or if you wish to install the native JAI for more than one JDK/JRE.</p>
<p>Please refer to the <a class="reference external" href="http://docs.geotools.org/latest/userguide/build/install/jdk.html#java-extensions-optional">GeoTools page on JAI installation</a> for details.</p>
</div>
<div class="section" id="geoserver-cleanup">
<h3>GeoServer cleanup<a class="headerlink" href="#geoserver-cleanup" title="Permalink to this headline">¶</a></h3>
<p>Once the installation is complete, you may optionally remove the original JAI files from the GeoServer instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">jai_core</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">jar</span>
<span class="n">jai_imageio</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">jar</span>
<span class="n">jai_codec</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">jar</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and <tt class="docutils literal"><span class="pre">z</span></tt> refer to specific version numbers.</p>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="index.html" title="previous chapter">Running in a Production Environment</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="container.html" title="next chapter">Container Considerations</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Java Considerations</a><ul>
<li><a class="reference internal" href="#use-oracle-jre">Use Oracle JRE</a></li>
<li><a class="reference internal" href="#install-native-jai-and-jai-image-i-o-extensions">Install native JAI and JAI Image I/O extensions</a><ul>
<li><a class="reference internal" href="#installing-native-jai-on-windows">Installing native JAI on Windows</a></li>
<li><a class="reference internal" href="#installing-native-jai-on-linux">Installing native JAI on Linux</a></li>
<li><a class="reference internal" href="#installing-native-jai-manually">Installing native JAI manually</a></li>
<li><a class="reference internal" href="#geoserver-cleanup">GeoServer cleanup</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="index.html" title="previous chapter">Running in a Production Environment</a></li>
            <li>Next: <a href="container.html" title="next chapter">Container Considerations</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/production/java.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>