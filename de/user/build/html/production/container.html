
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Container Considerations &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../index.html" />
      <link rel="up" title="Running in a Production Environment" href="index.html" />
      <link rel="next" title="Configuration Considerations" href="config.html" />
      <link rel="prev" title="Java Considerations" href="java.html" />
</head>
<body class="production/container">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Running in a Production Environment</a> &raquo;</li>
  <li>Container Considerations</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="config.html" title="Configuration Considerations"
       accesskey="N">next</a></li>
  <li>
    <a href="java.html" title="Java Considerations"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="container-considerations">
<span id="production-container"></span><h1>Container Considerations<a class="headerlink" href="#container-considerations" title="Permalink to this headline">¶</a></h1>
<p>Java web containers such as <a class="reference external" href="http://tomcat.apache.org">Tomcat</a> or <a class="reference external" href="http://www.mortbay.org/jetty/">Jetty</a> ship with configurations that allow for fast startup, but don&#8217;t always deliver the best performance.</p>
<div class="section" id="optimize-your-jvm">
<h2>Optimize your JVM<a class="headerlink" href="#optimize-your-jvm" title="Permalink to this headline">¶</a></h2>
<p>Set the following performance settings in the Java virtual machine (JVM) for your container.  These settings are not specific to any container.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Option</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-server</span></tt></td>
<td>Enables the server Java Virtual Machine (JVM), which compiles bytecode much earlier and with stronger optimizations.  Startup and initial calls will be slower due to &#8220;just-in-time&#8221; (JIT) compilation taking longer, but subsequent calls will be faster.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-Xmx256M</span> <span class="pre">-Xms48m</span></tt></td>
<td>Allocates extra memory to your server.  By default, JVM will use only 64MB of heap. If you&#8217;re serving just vector data, you&#8217;ll be streaming, so having more memory won&#8217;t increase performance.  If you&#8217;re serving coverages, however, JAI will use a disk cache. <tt class="docutils literal"><span class="pre">-Xmx256M</span></tt> allocates 256MB of memory to GeoServer (use more if you have excess memory).  It is also a good idea to configure the JAI tile cache size (see the Server Config page in the <a class="reference internal" href="../webadmin/index.html#web-admin"><em>Web Administration Interface</em></a> section) so that it uses 75% of the heap (0.75). <tt class="docutils literal"><span class="pre">-Xmx48m</span></tt> will tell the virtual machine to grab a 48MB heap on startup, which will make heap management more stable during heavy load serving.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-XX:SoftRefLRUPolicyMSPerMB=36000</span></tt></td>
<td>Increases the lifetime of &#8220;soft references&#8221; in GeoServer.  GeoServer uses soft references to cache datastore references and other similar requests.  Making them live longer will increase the effectiveness of the cache.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-XX:MaxPermSize=128m</span></tt></td>
<td>Increases the maximum size of permanent generation (or &#8220;permgen&#8221;) allocated to GeoServer to 128MB.  Permgen is the heap portion where the class bytecode is stored.  GeoServer uses lots of classes, and it may exhaust that space quickly, leading to out of memory errors.  This is especially important if you&#8217;re deploying GeoServer along with other applications in the same container, or if you need to deploy multiple GeoServer instances inside the same container.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-XX:+UseParallelGC</span></tt></td>
<td>Enables the throughput garbage collector.</td>
</tr>
</tbody>
</table>
<p>For more information about JVM configuration, see the article <a class="reference external" href="http://www.petefreitag.com/articles/gctuning/">Performance tuning garbage collection in Java</a>.</p>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="java.html" title="previous chapter">Java Considerations</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="config.html" title="next chapter">Configuration Considerations</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Container Considerations</a><ul>
<li><a class="reference internal" href="#optimize-your-jvm">Optimize your JVM</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="java.html" title="previous chapter">Java Considerations</a></li>
            <li>Next: <a href="config.html" title="next chapter">Configuration Considerations</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/production/container.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>