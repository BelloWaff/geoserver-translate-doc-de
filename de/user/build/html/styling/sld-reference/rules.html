
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Rules &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../../index.html" />
      <link rel="up" title="SLD Reference" href="index.html" />
      <link rel="next" title="Filters" href="filters.html" />
      <link rel="prev" title="SLD Reference" href="index.html" />
</head>
<body class="styling/sld-reference/rules">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Styling</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">SLD Reference</a> &raquo;</li>
  <li>Rules</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="filters.html" title="Filters"
       accesskey="N">next</a></li>
  <li>
    <a href="index.html" title="SLD Reference"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="rules">
<span id="sld-reference-rules"></span><h1>Rules<a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h1>
<p>A <strong>rule</strong> combines a <a class="reference internal" href="filters.html#sld-reference-filters"><em>filter</em></a> with any number of symbolizers
to define the portrayal of the features which satisfy the filter condition.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">&lt;Rule&gt;</span></tt> element can contain the following elements:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="60%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Tag</strong></td>
<td><strong>Required?</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;Name&gt;</span></tt></td>
<td>No</td>
<td>Specifies a name for the rule.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;Title&gt;</span></tt></td>
<td>No</td>
<td>Specifies a title for the rule.
The title is used in display lists and legends.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;Abstract&gt;</span></tt></td>
<td>No</td>
<td>Specifies an abstract describing the rule.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;Filter&gt;</span></tt></td>
<td>No</td>
<td>Specifies a filter controlling when the rule is applied.
See <a class="reference internal" href="filters.html#sld-reference-filters"><em>Filters</em></a></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;MinScaleDenominator&gt;</span></tt></td>
<td>No</td>
<td>Specifies the minimum scale denominator (inclusive) for the scale range
in which this rule applies.
If omitted, the rule applies at the given scale and all smaller scales.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;MaxScaleDenominator&gt;</span></tt></td>
<td>No</td>
<td>Specifies the maximum scale denominator (exclusive) for the scale range
in which this rule applies.
If omitted, the rule applies at all larger scales.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;PointSymbolizer&gt;</span></tt></td>
<td>0..N</td>
<td>Specifies styling as points.
See <a class="reference internal" href="pointsymbolizer.html#sld-reference-pointsymbolizer"><em>PointSymbolizer</em></a></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;LineSymbolizer&gt;</span></tt></td>
<td>0..N</td>
<td>Specifies styling as lines.
See <a class="reference internal" href="linesymbolizer.html#sld-reference-linesymbolizer"><em>LineSymbolizer</em></a></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;PolygonSymbolizer&gt;</span></tt></td>
<td>0..N</td>
<td>Specifies styling as polygons.
See <a class="reference internal" href="polygonsymbolizer.html#sld-reference-polygonsymbolizer"><em>PolygonSymbolizer</em></a></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;TextSymbolizer&gt;</span></tt></td>
<td>0..N</td>
<td>Specifies styling for text labels.
See <a class="reference internal" href="textsymbolizer.html#sld-reference-textsymbolizer"><em>TextSymbolizer</em></a></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;RasterSymbolizer&gt;</span></tt></td>
<td>0..N</td>
<td>Specifies styling for raster data.
See <a class="reference internal" href="rastersymbolizer.html#sld-reference-rastersymbolizer"><em>RasterSymbolizer</em></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scale-selection">
<h2>Scale Selection<a class="headerlink" href="#scale-selection" title="Permalink to this headline">¶</a></h2>
<p>Rules support <strong>scale selection</strong>,
to allow specifying the scale range in which a rule may be applied
(assuming the filter is matched as well, if present).
Scale selection allows for varying portrayal of features at different map scales.
In particular, at smaller scales it is common to use simpler styling for features,
or even prevent the display of some features altogether.</p>
<p>Scale ranges are specified by using <strong>scale denominators</strong>.
These values correspond directly to the ground distance covered by a map,
but are inversely related to the common &#8220;large&#8221; and &#8220;small&#8221; terminology for map scale.
In other words:</p>
<ul class="simple">
<li><strong>large scale</strong> maps cover <em>less</em> area and have a <em>smaller</em> scale denominator</li>
<li><strong>small scale</strong> maps cover <em>more</em> area and have a <em>larger</em> scale denominator</li>
</ul>
<p>Two elements specify the scale range for a rule:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="55%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Tag</strong></td>
<td><strong>Required?</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;MinScaleDenominator&gt;</span></tt></td>
<td>No</td>
<td>Specifies the minimum scale denominator (inclusive) for the scale range
in which this rule applies.
If omitted, the rule applies at the given scale and all smaller scales.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;MaxScaleDenominator&gt;</span></tt></td>
<td>No</td>
<td>Specifies the maximum scale denominator (exclusive) for the scale range
in which this rule applies.
If omitted, the rule applies at all larger scales.</td>
</tr>
</tbody>
</table>
<p>The following example shows the use of scale selection:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Rule&gt;</span>
   <span class="nt">&lt;MaxScaleDenominator&gt;</span>20000<span class="nt">&lt;/MaxScaleDenominator&gt;</span>
   <span class="nt">&lt;PointSymbolizer&gt;</span>
     <span class="nt">&lt;Graphic&gt;</span>
       <span class="nt">&lt;Mark&gt;</span>
         <span class="nt">&lt;WellKnownName&gt;</span>square<span class="nt">&lt;/WellKnownName&gt;</span>
         <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FF0000<span class="nt">&lt;/CssParameter&gt;</span>
       <span class="nt">&lt;/Mark&gt;</span>
       <span class="nt">&lt;Size&gt;</span>10<span class="nt">&lt;/Size&gt;</span>
     <span class="nt">&lt;/Graphic&gt;</span>
   <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;Rule&gt;</span>
   <span class="nt">&lt;MinScaleDenominator&gt;</span>20000<span class="nt">&lt;/MinScaleDenominator&gt;</span>
   <span class="nt">&lt;PointSymbolizer&gt;</span>
     <span class="nt">&lt;Graphic&gt;</span>
       <span class="nt">&lt;Mark&gt;</span>
         <span class="nt">&lt;WellKnownName&gt;</span>triangle<span class="nt">&lt;/WellKnownName&gt;</span>
         <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#0000FF<span class="nt">&lt;/CssParameter&gt;</span>
       <span class="nt">&lt;/Mark&gt;</span>
       <span class="nt">&lt;Size&gt;</span>4<span class="nt">&lt;/Size&gt;</span>
     <span class="nt">&lt;/Graphic&gt;</span>
   <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
</pre></div>
</div>
<p>The above rules specify:</p>
<ul class="simple">
<li>at scales <strong>above</strong> 1:20,000
(<em>larger</em> scales, with scale denominators <em>smaller</em> than 20,000)
features are symbolized with 10-pixel red squares,</li>
<li>at scales <strong>at or below</strong> 1:20,000
(<em>smaller</em> scales, with scale denominators <em>larger</em> than 20,000)
features are symbolized with 4-pixel blue triangles.</li>
</ul>
</div>
<div class="section" id="rule-evaluation">
<h2>Rule Evaluation<a class="headerlink" href="#rule-evaluation" title="Permalink to this headline">¶</a></h2>
<p>Within an SLD document, each <tt class="docutils literal"><span class="pre">&lt;FeatureTypeStyle&gt;</span></tt> can contain many rules.
Multiple-rule SLDs are the basis for thematic styling.
In GeoServer, a <tt class="docutils literal"><span class="pre">&lt;FeatureTypeStyle&gt;</span></tt>
is evaluated once for each feature processed.
The rules within are evaluated in the order they occur.
A rule is rendered if its filter condition (if any) is true for that feature
and if it is valid at the current map scale.
A rule is rendered by rendering the feature using all the symbolizers
within the rule, in the order in which they occur.
The rendering is performed into a single image buffer.
Thus symbolizers earlier in a <tt class="docutils literal"><span class="pre">FeatureTypeStyle</span></tt> and <tt class="docutils literal"><span class="pre">Rule</span></tt> are rendered
<em>before</em> symbolizers occuring later in the document
(the so-called &#8220;Painter&#8217;s Model&#8221; of rendering).</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following rule applies only to features which have a <tt class="docutils literal"><span class="pre">POPULATION</span></tt> attribute greater than <tt class="docutils literal"><span class="pre">100,000</span></tt> and symbolizes then with a red point.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Rule&gt;</span>
   <span class="nt">&lt;ogc:Filter&gt;</span>
     <span class="nt">&lt;ogc:PropertyIsGreaterThan&gt;</span>
       <span class="nt">&lt;ogc:PropertyName&gt;</span>POPULATION<span class="nt">&lt;/ogc:PropertyName&gt;</span>
       <span class="nt">&lt;ogc:Literal&gt;</span>100000<span class="nt">&lt;/ogc:Literal&gt;</span>
     <span class="nt">&lt;/ogc:PropertyIsGreaterThan&gt;</span>
   <span class="nt">&lt;/ogc:Filter&gt;</span>
   <span class="nt">&lt;PointSymbolizer&gt;</span>
     <span class="nt">&lt;Graphic&gt;</span>
       <span class="nt">&lt;Mark&gt;</span>
         <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FF0000<span class="nt">&lt;/CssParameter&gt;</span>
       <span class="nt">&lt;/Mark&gt;</span>
     <span class="nt">&lt;/Graphic&gt;</span>
   <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
</pre></div>
</div>
<p>An additional rule can be added which applies to features whose <tt class="docutils literal"><span class="pre">POPULATION</span></tt> attribute is less than 100,000, and symbolizes them as green points.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Rule&gt;</span>
  <span class="nt">&lt;ogc:Filter&gt;</span>
    <span class="nt">&lt;ogc:PropertyIsGreaterThan&gt;</span>
      <span class="nt">&lt;ogc:PropertyName&gt;</span>POPULATION<span class="nt">&lt;/ogc:PropertyName&gt;</span>
      <span class="nt">&lt;ogc:Literal&gt;</span>100000<span class="nt">&lt;/ogc:Literal&gt;</span>
    <span class="nt">&lt;/ogc:PropertyIsGreaterThan&gt;</span>
  <span class="nt">&lt;/ogc:Filter&gt;</span>
  <span class="nt">&lt;PointSymbolizer&gt;</span>
    <span class="nt">&lt;Graphic&gt;</span>
      <span class="nt">&lt;Mark&gt;</span>
        <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FF0000<span class="nt">&lt;/CssParameter&gt;</span>
      <span class="nt">&lt;/Mark&gt;</span>
    <span class="nt">&lt;/Graphic&gt;</span>
  <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;Rule&gt;</span>
  <span class="nt">&lt;ogc:Filter&gt;</span>
    <span class="nt">&lt;ogc:PropertyIsLessThan&gt;</span>
      <span class="nt">&lt;ogc:PropertyName&gt;</span>POPULATION<span class="nt">&lt;/ogc:PropertyName&gt;</span>
      <span class="nt">&lt;ogc:Literal&gt;</span>100000<span class="nt">&lt;/ogc:Literal&gt;</span>
    <span class="nt">&lt;/ogc:PropertyIsLessThan&gt;</span>
  <span class="nt">&lt;/ogc:Filter&gt;</span>
  <span class="nt">&lt;PointSymbolizer&gt;</span>
    <span class="nt">&lt;Graphic&gt;</span>
      <span class="nt">&lt;Mark&gt;</span>
        <span class="nt">&lt;Fill&gt;&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#0000FF<span class="nt">&lt;/CssParameter&gt;</span>
      <span class="nt">&lt;/Mark&gt;</span>
    <span class="nt">&lt;/Graphic&gt;</span>
  <span class="nt">&lt;/PointSymbolizer&gt;</span>
<span class="nt">&lt;/Rule&gt;</span>
</pre></div>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="index.html" title="previous chapter">SLD Reference</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="filters.html" title="next chapter">Filters</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Rules</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#scale-selection">Scale Selection</a></li>
<li><a class="reference internal" href="#rule-evaluation">Rule Evaluation</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="index.html" title="previous chapter">SLD Reference</a></li>
            <li>Next: <a href="filters.html" title="next chapter">Filters</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../../_sources/styling/sld-reference/rules.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>