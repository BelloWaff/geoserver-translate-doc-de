
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Polygons &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../../index.html" />
      <link rel="up" title="SLD Cookbook" href="index.html" />
      <link rel="next" title="Rasters" href="rasters.html" />
      <link rel="prev" title="Lines" href="lines.html" />
</head>
<body class="styling/sld-cookbook/polygons">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Styling</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">SLD Cookbook</a> &raquo;</li>
  <li>Polygons</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="rasters.html" title="Rasters"
       accesskey="N">next</a></li>
  <li>
    <a href="lines.html" title="Lines"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="polygons">
<span id="sld-cookbook-polygons"></span><h1>Polygons<a class="headerlink" href="#polygons" title="Permalink to this headline">¶</a></h1>
<p>Polygons are two dimensional shapes that contain both an outer edge (or &#8220;stroke&#8221;) and an inside (or &#8220;fill&#8221;).  A polygon can be thought of as an irregularly-shaped point and is styled in similar ways to points.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The code examples shown on this page are <strong>not the full SLD code</strong>, as they omit the SLD header and footer information for the sake of brevity.  Please use the links to download the full SLD for each example.</p>
</div>
<div class="section" id="example-polygons-layer">
<span id="sld-cookbook-polygons-attributes"></span><h2>Example polygons layer<a class="headerlink" href="#example-polygons-layer" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference download internal" href="../../_downloads/sld_cookbook_polygon.zip"><tt class="xref download docutils literal"><span class="pre">polygons</span> <span class="pre">layer</span></tt></a> used below contains county information for a fictional country. For reference, the attribute table for the polygons is included below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="40%" />
<col width="30%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>fid</strong> (Feature ID)</td>
<td><strong>name</strong> (County name)</td>
<td><strong>pop</strong> (Population)</td>
</tr>
<tr class="row-even"><td>polygon.1</td>
<td>Irony County</td>
<td>412234</td>
</tr>
<tr class="row-odd"><td>polygon.2</td>
<td>Tracker County</td>
<td>235421</td>
</tr>
<tr class="row-even"><td>polygon.3</td>
<td>Dracula County</td>
<td>135022</td>
</tr>
<tr class="row-odd"><td>polygon.4</td>
<td>Poly County</td>
<td>1567879</td>
</tr>
<tr class="row-even"><td>polygon.5</td>
<td>Bearing County</td>
<td>201989</td>
</tr>
<tr class="row-odd"><td>polygon.6</td>
<td>Monte Cristo County</td>
<td>152734</td>
</tr>
<tr class="row-even"><td>polygon.7</td>
<td>Massive County</td>
<td>67123</td>
</tr>
<tr class="row-odd"><td>polygon.8</td>
<td>Rhombus County</td>
<td>198029</td>
</tr>
</tbody>
</table>
<p><a class="reference download internal" href="../../_downloads/sld_cookbook_polygon.zip"><tt class="xref download docutils literal"><span class="pre">Download</span> <span class="pre">the</span> <span class="pre">polygons</span> <span class="pre">shapefile</span></tt></a></p>
</div>
<div class="section" id="simple-polygon">
<span id="sld-cookbook-polygons-simplepolygon"></span><h2>Simple polygon<a class="headerlink" href="#simple-polygon" title="Permalink to this headline">¶</a></h2>
<p>This example shows a polygon filled in blue.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_simplepolygon.png" src="../../_images/polygon_simplepolygon.png" />
<p class="caption"><em>Simple polygon</em></p>
</div>
<div class="section" id="code">
<h3>Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_simplepolygon.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Simple</span> <span class="pre">polygon&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000080<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="details">
<h3>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h3>
<p>There is one <tt class="docutils literal"><span class="pre">&lt;Rule&gt;</span></tt> in one <tt class="docutils literal"><span class="pre">&lt;FeatureTypeStyle&gt;</span></tt> for this style, which is the simplest possible situation.  (All subsequent examples will share this characteristic unless otherwise specified.)  Styling polygons is accomplished via the <tt class="docutils literal"><span class="pre">&lt;PolygonSymbolizer&gt;</span></tt> (<strong>lines 3-7</strong>). <strong>Line 5</strong> specifies dark blue (<tt class="docutils literal"><span class="pre">#000080</span></tt>) as the polygon&#8217;s fill color.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The light-colored borders around the polygons in the figure are artifacts of the renderer caused by the polygons being adjacent. There is no border in this style.</p>
</div>
</div>
</div>
<div class="section" id="simple-polygon-with-stroke">
<span id="sld-cookbook-polygons-simplepolygonwithstroke"></span><h2>Simple polygon with stroke<a class="headerlink" href="#simple-polygon-with-stroke" title="Permalink to this headline">¶</a></h2>
<p>This example adds a 2 pixel white stroke to the <a class="reference internal" href="#sld-cookbook-polygons-simplepolygon"><em>Simple polygon</em></a> example.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_simplepolygonwithstroke.png" src="../../_images/polygon_simplepolygonwithstroke.png" />
<p class="caption"><em>Simple polygon with stroke</em></p>
</div>
<div class="section" id="id1">
<h3>Code<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_simplepolygonwithstroke.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Simple</span> <span class="pre">polygon</span> <span class="pre">with</span> <span class="pre">stroke&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000080<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>2<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id2">
<h3>Details<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>This example is similar to the <a class="reference internal" href="#sld-cookbook-polygons-simplepolygon"><em>Simple polygon</em></a> example above, with the addition of the <tt class="docutils literal"><span class="pre">&lt;Stroke&gt;</span></tt> tag (<strong>lines 7-10</strong>).  <strong>Line 8</strong> sets the color of stroke to white (<tt class="docutils literal"><span class="pre">#FFFFFF</span></tt>) and <strong>line 9</strong> sets the width of the stroke to 2 pixels.</p>
</div>
</div>
<div class="section" id="transparent-polygon">
<h2>Transparent polygon<a class="headerlink" href="#transparent-polygon" title="Permalink to this headline">¶</a></h2>
<p>This example builds on the <a class="reference internal" href="#sld-cookbook-polygons-simplepolygonwithstroke"><em>Simple polygon with stroke</em></a> example and makes the fill partially transparent by setting the opacity to 50%.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_transparentpolygon.png" src="../../_images/polygon_transparentpolygon.png" />
<p class="caption"><em>Transparent polygon</em></p>
</div>
<div class="section" id="id3">
<h3>Code<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_transparentpolygon.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Transparent</span> <span class="pre">polygon&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000080<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill-opacity&quot;</span><span class="nt">&gt;</span>0.5<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>2<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id4">
<h3>Details<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>This example is similar to the <a class="reference internal" href="#sld-cookbook-polygons-simplepolygonwithstroke"><em>Simple polygon with stroke</em></a> example, save for defining the fill&#8217;s opacity in <strong>line 6</strong>. The value of 0.5 results in partially transparent fill that is 50% opaque.  An opacity value of 1 would draw the fill as 100% opaque, while an opacity value of 0 would result in a completely transparent (0% opaque) fill.  In this example, since the background is white, the dark blue looks lighter.  Were the points imposed on a dark background, the resulting color would be darker.</p>
</div>
</div>
<div class="section" id="graphic-fill">
<span id="sld-cookbook-polygons-graphicfill"></span><h2>Graphic fill<a class="headerlink" href="#graphic-fill" title="Permalink to this headline">¶</a></h2>
<p>This example fills the polygons with a tiled graphic.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_graphicfill.png" src="../../_images/polygon_graphicfill.png" />
<p class="caption"><em>Graphic fill</em></p>
</div>
<div class="section" id="id5">
<h3>Code<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_graphicfill.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Graphic</span> <span class="pre">fill&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;GraphicFill&gt;</span>
             <span class="nt">&lt;Graphic&gt;</span>
               <span class="nt">&lt;ExternalGraphic&gt;</span>
                 <span class="nt">&lt;OnlineResource</span>
                   <span class="na">xlink:type=</span><span class="s">&quot;simple&quot;</span>
                   <span class="na">xlink:href=</span><span class="s">&quot;colorblocks.png&quot;</span> <span class="nt">/&gt;</span>
                 <span class="nt">&lt;Format&gt;</span>image/png<span class="nt">&lt;/Format&gt;</span>
               <span class="nt">&lt;/ExternalGraphic&gt;</span>
             <span class="nt">&lt;Size&gt;</span>93<span class="nt">&lt;/Size&gt;</span>
             <span class="nt">&lt;/Graphic&gt;</span>
           <span class="nt">&lt;/GraphicFill&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id6">
<h3>Details<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>This style fills the polygon with a tiled graphic. This is known as an <tt class="docutils literal"><span class="pre">&lt;ExternalGraphic&gt;</span></tt> in SLD, to distinguish it from commonly-used shapes such as squares and circles that are &#8220;internal&#8221; to the renderer. <strong>Lines 7-12</strong> specify details for the graphic, with <strong>line 10</strong> setting the path and file name of the graphic and <strong>line 11</strong> indicating the file format (MIME type) of the graphic (<tt class="docutils literal"><span class="pre">image/png</span></tt>).  Although a full URL could be specified if desired, no path information is necessary in <strong>line 11</strong> because this graphic is contained in the same directory as the SLD. <strong>Line 13</strong> determines the height of the displayed graphic in pixels; if the value differs from the height of the graphic then it will be scaled accordingly while preserving the aspect ratio.</p>
<div class="figure align-center">
<img alt="../../_images/colorblocks.png" src="../../_images/colorblocks.png" />
<p class="caption"><em>Graphic used for fill</em></p>
</div>
</div>
</div>
<div class="section" id="hatching-fill">
<h2>Hatching fill<a class="headerlink" href="#hatching-fill" title="Permalink to this headline">¶</a></h2>
<p>This example fills the polygons with a hatching pattern.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This example leverages an SLD extension in GeoServer.  Hatching is not part of the standard SLD 1.0 specification.</p>
</div>
<div class="figure align-center">
<img alt="../../_images/polygon_hatchingfill.png" src="../../_images/polygon_hatchingfill.png" />
<p class="caption"><em>Hatching fill</em></p>
</div>
<div class="section" id="id7">
<h3>Code<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_hatchingfill.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Hatching</span> <span class="pre">fill&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;GraphicFill&gt;</span>
             <span class="nt">&lt;Graphic&gt;</span>
               <span class="nt">&lt;Mark&gt;</span>
                 <span class="nt">&lt;WellKnownName&gt;</span>shape://times<span class="nt">&lt;/WellKnownName&gt;</span>
                 <span class="nt">&lt;Stroke&gt;</span>
                   <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#990099<span class="nt">&lt;/CssParameter&gt;</span>
                   <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/CssParameter&gt;</span>
                 <span class="nt">&lt;/Stroke&gt;</span>
               <span class="nt">&lt;/Mark&gt;</span>
               <span class="nt">&lt;Size&gt;</span>16<span class="nt">&lt;/Size&gt;</span>
             <span class="nt">&lt;/Graphic&gt;</span>
           <span class="nt">&lt;/GraphicFill&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id8">
<h3>Details<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>In this example, there is a <tt class="docutils literal"><span class="pre">&lt;GraphicFill&gt;</span></tt> tag as in the <a class="reference internal" href="#sld-cookbook-polygons-graphicfill"><em>Graphic fill</em></a> example, but a <tt class="docutils literal"><span class="pre">&lt;Mark&gt;</span></tt> (<strong>lines 7-13</strong>) is used instead of an <tt class="docutils literal"><span class="pre">&lt;ExternalGraphic&gt;</span></tt>. <strong>Line 8</strong> specifies a &#8220;times&#8221; symbol (an &#8220;x&#8221;) be tiled throughout the polygon. <strong>Line 10</strong> sets the color to purple (<tt class="docutils literal"><span class="pre">#990099</span></tt>), <strong>line 11</strong> sets the width of the hatches to 1 pixel, and <strong>line 14</strong> sets the size of the tile to 16 pixels. Because hatch tiles are always square, the <tt class="docutils literal"><span class="pre">&lt;Size&gt;</span></tt> sets both the width and the height.</p>
</div>
</div>
<div class="section" id="polygon-with-default-label">
<span id="sld-cookbook-polygons-polygonwithdefaultlabel"></span><h2>Polygon with default label<a class="headerlink" href="#polygon-with-default-label" title="Permalink to this headline">¶</a></h2>
<p>This example shows a text label on the polygon.  In the absence of any other customization, this is how a label will be displayed.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_polygonwithdefaultlabel.png" src="../../_images/polygon_polygonwithdefaultlabel.png" />
<p class="caption"><em>Polygon with default label</em></p>
</div>
<div class="section" id="id9">
<h3>Code<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_polygonwithdefaultlabel.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Polygon</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">label&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#40FF40<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>2<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
       <span class="nt">&lt;TextSymbolizer&gt;</span>
         <span class="nt">&lt;Label&gt;</span>
           <span class="nt">&lt;ogc:PropertyName&gt;</span>name<span class="nt">&lt;/ogc:PropertyName&gt;</span>
         <span class="nt">&lt;/Label&gt;</span>
       <span class="nt">&lt;/TextSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id10">
<h3>Details<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>In this example there is a <tt class="docutils literal"><span class="pre">&lt;PolygonSymbolizer&gt;</span></tt> and a <tt class="docutils literal"><span class="pre">&lt;TextSymbolizer&gt;</span></tt>.  <strong>Lines 3-11</strong> comprise the <tt class="docutils literal"><span class="pre">&lt;PolygonSymbolizer&gt;</span></tt>.  The fill of the polygon is set on <strong>line 5</strong> to a light green (<tt class="docutils literal"><span class="pre">#40FF40</span></tt>) while the stroke of the polygon is set on <strong>lines 8-9</strong> to white (<tt class="docutils literal"><span class="pre">#FFFFFF</span></tt>) with a thickness of 2 pixels. The label is set in the <tt class="docutils literal"><span class="pre">&lt;TextSymbolizer&gt;</span></tt> on <strong>lines 12-16</strong>, with <strong>line 14</strong> determining what text to display, in this case the value of the &#8220;name&#8221; attribute.  (Refer to the attribute table in the <a class="reference internal" href="#sld-cookbook-polygons-attributes"><em>Example polygons layer</em></a> section if necessary.)  All other details about the label are set to the renderer default, which here is Times New Roman font, font color black, and font size of 10 pixels.</p>
</div>
</div>
<div class="section" id="label-halo">
<h2>Label halo<a class="headerlink" href="#label-halo" title="Permalink to this headline">¶</a></h2>
<p>This example alters the look of the <a class="reference internal" href="#sld-cookbook-polygons-polygonwithdefaultlabel"><em>Polygon with default label</em></a> by adding a white halo to the label.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_labelhalo.png" src="../../_images/polygon_labelhalo.png" />
<p class="caption"><em>Label halo</em></p>
</div>
<div class="section" id="id11">
<h3>Code<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_labelhalo.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Label</span> <span class="pre">halo&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#40FF40<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>2<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
       <span class="nt">&lt;TextSymbolizer&gt;</span>
         <span class="nt">&lt;Label&gt;</span>
           <span class="nt">&lt;ogc:PropertyName&gt;</span>name<span class="nt">&lt;/ogc:PropertyName&gt;</span>
         <span class="nt">&lt;/Label&gt;</span>
         <span class="nt">&lt;Halo&gt;</span>
           <span class="nt">&lt;Radius&gt;</span>3<span class="nt">&lt;/Radius&gt;</span>
           <span class="nt">&lt;Fill&gt;</span>
             <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;/Halo&gt;</span>
       <span class="nt">&lt;/TextSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id12">
<h3>Details<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>This example is similar to the <a class="reference internal" href="#sld-cookbook-polygons-polygonwithdefaultlabel"><em>Polygon with default label</em></a>, with the addition of a halo around the labels on <strong>lines 16-21</strong>.  A halo creates a color buffer around the label to improve label legibility.  <strong>Line 17</strong> sets the radius of the halo, extending the halo 3 pixels around the edge of the label, and <strong>line 19</strong> sets the color of the halo to white (<tt class="docutils literal"><span class="pre">#FFFFFF</span></tt>). Since halos are most useful when set to a sharp contrast relative to the text color, this example uses a white halo around black text to ensure optimum readability.</p>
</div>
</div>
<div class="section" id="polygon-with-styled-label">
<span id="sld-cookbook-polygons-polygonwithstyledlabel"></span><h2>Polygon with styled label<a class="headerlink" href="#polygon-with-styled-label" title="Permalink to this headline">¶</a></h2>
<p>This example improves the label style from the <a class="reference internal" href="#sld-cookbook-polygons-polygonwithdefaultlabel"><em>Polygon with default label</em></a> example by centering the label on the polygon, specifying a different font name and size, and setting additional label placement optimizations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The label placement optimizations discussed below (the <tt class="docutils literal"><span class="pre">&lt;VendorOption&gt;</span></tt> tags) are SLD extensions that are custom to GeoServer.  They are not part of the SLD 1.0 specification.</p>
</div>
<div class="figure align-center">
<img alt="../../_images/polygon_polygonwithstyledlabel.png" src="../../_images/polygon_polygonwithstyledlabel.png" />
<p class="caption"><em>Polygon with styled label</em></p>
</div>
<div class="section" id="id13">
<h3>Code<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_polygonwithstyledlabel.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Polygon</span> <span class="pre">with</span> <span class="pre">styled</span> <span class="pre">label&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#40FF40<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>2<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
       <span class="nt">&lt;TextSymbolizer&gt;</span>
         <span class="nt">&lt;Label&gt;</span>
           <span class="nt">&lt;ogc:PropertyName&gt;</span>name<span class="nt">&lt;/ogc:PropertyName&gt;</span>
         <span class="nt">&lt;/Label&gt;</span>
         <span class="nt">&lt;Font&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-family&quot;</span><span class="nt">&gt;</span>Arial<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-size&quot;</span><span class="nt">&gt;</span>11<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-style&quot;</span><span class="nt">&gt;</span>normal<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-weight&quot;</span><span class="nt">&gt;</span>bold<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Font&gt;</span>
         <span class="nt">&lt;LabelPlacement&gt;</span>
           <span class="nt">&lt;PointPlacement&gt;</span>
             <span class="nt">&lt;AnchorPoint&gt;</span>
               <span class="nt">&lt;AnchorPointX&gt;</span>0.5<span class="nt">&lt;/AnchorPointX&gt;</span>
               <span class="nt">&lt;AnchorPointY&gt;</span>0.5<span class="nt">&lt;/AnchorPointY&gt;</span>
             <span class="nt">&lt;/AnchorPoint&gt;</span>
           <span class="nt">&lt;/PointPlacement&gt;</span>
         <span class="nt">&lt;/LabelPlacement&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;VendorOption</span> <span class="na">name=</span><span class="s">&quot;autoWrap&quot;</span><span class="nt">&gt;</span>60<span class="nt">&lt;/VendorOption&gt;</span>
         <span class="nt">&lt;VendorOption</span> <span class="na">name=</span><span class="s">&quot;maxDisplacement&quot;</span><span class="nt">&gt;</span>150<span class="nt">&lt;/VendorOption&gt;</span>
       <span class="nt">&lt;/TextSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id14">
<h3>Details<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>This example is similar to the <a class="reference internal" href="#sld-cookbook-polygons-polygonwithdefaultlabel"><em>Polygon with default label</em></a> example, with additional styling options within the <tt class="docutils literal"><span class="pre">&lt;TextSymbolizer&gt;</span></tt> on lines <strong>12-35</strong>. <strong>Lines 16-21</strong> set the font styling. <strong>Line 17</strong> sets the font family to be Arial, <strong>line 18</strong> sets the font size to 11 pixels, <strong>line 19</strong> sets the font style to &#8220;normal&#8221; (as opposed to &#8220;italic&#8221; or &#8220;oblique&#8221;), and <strong>line 20</strong> sets the font weight to &#8220;bold&#8221; (as opposed to &#8220;normal&#8221;).</p>
<p>The <tt class="docutils literal"><span class="pre">&lt;LabelPlacement&gt;</span></tt> tag on <strong>lines 22-29</strong> affects where the label is placed relative to the centroid of the polygon. <strong>Line 21</strong> centers the label by positioning it 50% (or 0.5) of the way horizontally along the centroid of the polygon. <strong>Line 22</strong> centers the label vertically in exactly the same way.</p>
<p>Finally, there are two added touches for label placement optimization: <strong>line 33</strong> ensures that long labels are split across multiple lines by setting line wrapping on the labels to 60 pixels, and <strong>line 34</strong> allows the label to be displaced by up to 150 pixels. This ensures that labels are compacted and less likely to spill over polygon boundaries. Notice little Massive County in the corner, whose label is now displayed.&#8221;</p>
</div>
</div>
<div class="section" id="attribute-based-polygon">
<h2>Attribute-based polygon<a class="headerlink" href="#attribute-based-polygon" title="Permalink to this headline">¶</a></h2>
<p>This example styles the polygons differently based on the &#8220;pop&#8221; (Population) attribute.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_attributebasedpolygon.png" src="../../_images/polygon_attributebasedpolygon.png" />
<p class="caption"><em>Attribute-based polygon</em></p>
</div>
<div class="section" id="id15">
<h3>Code<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_attributebasedpolygon.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Attribute-based</span> <span class="pre">polygon&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;Name&gt;</span>SmallPop<span class="nt">&lt;/Name&gt;</span>
       <span class="nt">&lt;Title&gt;</span>Less Than 200,000<span class="nt">&lt;/Title&gt;</span>
       <span class="nt">&lt;ogc:Filter&gt;</span>
         <span class="nt">&lt;ogc:PropertyIsLessThan&gt;</span>
           <span class="nt">&lt;ogc:PropertyName&gt;</span>pop<span class="nt">&lt;/ogc:PropertyName&gt;</span>
           <span class="nt">&lt;ogc:Literal&gt;</span>200000<span class="nt">&lt;/ogc:Literal&gt;</span>
         <span class="nt">&lt;/ogc:PropertyIsLessThan&gt;</span>
       <span class="nt">&lt;/ogc:Filter&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#66FF66<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;Name&gt;</span>MediumPop<span class="nt">&lt;/Name&gt;</span>
       <span class="nt">&lt;Title&gt;</span>200,000 to 500,000<span class="nt">&lt;/Title&gt;</span>
       <span class="nt">&lt;ogc:Filter&gt;</span>
         <span class="nt">&lt;ogc:And&gt;</span>
           <span class="nt">&lt;ogc:PropertyIsGreaterThanOrEqualTo&gt;</span>
             <span class="nt">&lt;ogc:PropertyName&gt;</span>pop<span class="nt">&lt;/ogc:PropertyName&gt;</span>
             <span class="nt">&lt;ogc:Literal&gt;</span>200000<span class="nt">&lt;/ogc:Literal&gt;</span>
           <span class="nt">&lt;/ogc:PropertyIsGreaterThanOrEqualTo&gt;</span>
           <span class="nt">&lt;ogc:PropertyIsLessThan&gt;</span>
             <span class="nt">&lt;ogc:PropertyName&gt;</span>pop<span class="nt">&lt;/ogc:PropertyName&gt;</span>
             <span class="nt">&lt;ogc:Literal&gt;</span>500000<span class="nt">&lt;/ogc:Literal&gt;</span>
           <span class="nt">&lt;/ogc:PropertyIsLessThan&gt;</span>
         <span class="nt">&lt;/ogc:And&gt;</span>
       <span class="nt">&lt;/ogc:Filter&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#33CC33<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;Name&gt;</span>LargePop<span class="nt">&lt;/Name&gt;</span>
       <span class="nt">&lt;Title&gt;</span>Greater Than 500,000<span class="nt">&lt;/Title&gt;</span>
       <span class="nt">&lt;ogc:Filter&gt;</span>
         <span class="nt">&lt;ogc:PropertyIsGreaterThan&gt;</span>
           <span class="nt">&lt;ogc:PropertyName&gt;</span>pop<span class="nt">&lt;/ogc:PropertyName&gt;</span>
           <span class="nt">&lt;ogc:Literal&gt;</span>500000<span class="nt">&lt;/ogc:Literal&gt;</span>
         <span class="nt">&lt;/ogc:PropertyIsGreaterThan&gt;</span>
       <span class="nt">&lt;/ogc:Filter&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#009900<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id16">
<h3>Details<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Refer to the <a class="reference internal" href="#sld-cookbook-polygons-attributes"><em>Example polygons layer</em></a> to see the attributes for the layer.  This example has eschewed labels in order to simplify the style, but you can refer to the example <a class="reference internal" href="#sld-cookbook-polygons-polygonwithstyledlabel"><em>Polygon with styled label</em></a> to see which attributes correspond to which polygons.</p>
</div>
<p>Each polygon in our fictional country has a population that is represented by the population (&#8220;pop&#8221;) attribute. This style contains three rules that alter the fill based on the value of &#8220;pop&#8221; attribute, with smaller values yielding a lighter color and larger values yielding a darker color.</p>
<p>The three rules are designed as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="30%" />
<col width="30%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Rule order</strong></td>
<td><strong>Rule name</strong></td>
<td><strong>Population</strong> (&#8220;pop&#8221;)</td>
<td><strong>Color</strong></td>
</tr>
<tr class="row-even"><td>1</td>
<td>SmallPop</td>
<td>Less than 200,000</td>
<td><tt class="docutils literal"><span class="pre">#66FF66</span></tt></td>
</tr>
<tr class="row-odd"><td>2</td>
<td>MediumPop</td>
<td>200,000 to 500,000</td>
<td><tt class="docutils literal"><span class="pre">#33CC33</span></tt></td>
</tr>
<tr class="row-even"><td>3</td>
<td>LargePop</td>
<td>Greater than 500,000</td>
<td><tt class="docutils literal"><span class="pre">#009900</span></tt></td>
</tr>
</tbody>
</table>
<p>The order of the rules does not matter in this case, since each shape is only rendered by a single rule.</p>
<p>The first rule, on <strong>lines 2-16</strong>, specifies the styling of polygons whose population attribute is less than 200,000.  <strong>Lines 5-10</strong> set this filter, with <strong>lines 6-9</strong> setting the &#8220;less than&#8221; filter, <strong>line 7</strong> denoting the attribute (&#8220;pop&#8221;), and <strong>line 8</strong> the value of 200,000.  The color of the polygon fill is set to a light green (<tt class="docutils literal"><span class="pre">#66FF66</span></tt>) on <strong>line 13</strong>.</p>
<p>The second rule, on <strong>lines 17-37</strong>, is similar, specifying a style for polygons whose population attribute is greater than or equal to 200,000 but less than 500,000.  The filter is set on <strong>lines 20-31</strong>.  This filter is longer than in the first rule because two criteria need to be specified instead of one: a &#8220;greater than or equal to&#8221; and a &#8220;less than&#8221; filter.  Notice the <tt class="docutils literal"><span class="pre">And</span></tt> on <strong>line 21</strong> and <strong>line 30</strong>.  This mandates that both filters need to be true for the rule to be applicable.  The color of the polygon fill is set to a medium green on (<tt class="docutils literal"><span class="pre">#33CC33</span></tt>) on <strong>line 34</strong>.</p>
<p>The third rule, on <strong>lines 38-52</strong>, specifies a style for polygons whose population attribute is greater than or equal to 500,000.  The filter is set on <strong>lines 41-46</strong>.  The color of the polygon fill is the only other difference in this rule, which is set to a dark green (<tt class="docutils literal"><span class="pre">#009900</span></tt>) on <strong>line 49</strong>.</p>
</div>
</div>
<div class="section" id="zoom-based-polygon">
<h2>Zoom-based polygon<a class="headerlink" href="#zoom-based-polygon" title="Permalink to this headline">¶</a></h2>
<p>This example alters the style of the polygon at different zoom levels.</p>
<div class="figure align-center">
<img alt="../../_images/polygon_zoombasedpolygonlarge.png" src="../../_images/polygon_zoombasedpolygonlarge.png" />
<p class="caption"><em>Zoom-based polygon: Zoomed in</em></p>
</div>
<div class="figure align-center">
<img alt="../../_images/polygon_zoombasedpolygonmedium.png" src="../../_images/polygon_zoombasedpolygonmedium.png" />
<p class="caption"><em>Zoom-based polygon: Partially zoomed</em></p>
</div>
<div class="figure align-center">
<img alt="../../_images/polygon_zoombasedpolygonsmall.png" src="../../_images/polygon_zoombasedpolygonsmall.png" />
<p class="caption"><em>Zoom-based polygon: Zoomed out</em></p>
</div>
<div class="section" id="id17">
<h3>Code<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p><a class="reference download internal" href="../../_downloads/polygon_zoombasedpolygon.sld"><tt class="xref download docutils literal"><span class="pre">View</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">&quot;Zoom-based</span> <span class="pre">polygon&quot;</span> <span class="pre">SLD</span></tt></a></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre></div></td><td class="code"><div class="highlight"><pre>   <span class="nt">&lt;FeatureTypeStyle&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;Name&gt;</span>Large<span class="nt">&lt;/Name&gt;</span>
       <span class="nt">&lt;MaxScaleDenominator&gt;</span>100000000<span class="nt">&lt;/MaxScaleDenominator&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#0000CC<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>7<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
       <span class="nt">&lt;TextSymbolizer&gt;</span>
         <span class="nt">&lt;Label&gt;</span>
           <span class="nt">&lt;ogc:PropertyName&gt;</span>name<span class="nt">&lt;/ogc:PropertyName&gt;</span>
         <span class="nt">&lt;/Label&gt;</span>
         <span class="nt">&lt;Font&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-family&quot;</span><span class="nt">&gt;</span>Arial<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-size&quot;</span><span class="nt">&gt;</span>14<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-style&quot;</span><span class="nt">&gt;</span>normal<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;font-weight&quot;</span><span class="nt">&gt;</span>bold<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Font&gt;</span>
         <span class="nt">&lt;LabelPlacement&gt;</span>
           <span class="nt">&lt;PointPlacement&gt;</span>
             <span class="nt">&lt;AnchorPoint&gt;</span>
               <span class="nt">&lt;AnchorPointX&gt;</span>0.5<span class="nt">&lt;/AnchorPointX&gt;</span>
               <span class="nt">&lt;AnchorPointY&gt;</span>0.5<span class="nt">&lt;/AnchorPointY&gt;</span>
             <span class="nt">&lt;/AnchorPoint&gt;</span>
           <span class="nt">&lt;/PointPlacement&gt;</span>
         <span class="nt">&lt;/LabelPlacement&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
       <span class="nt">&lt;/TextSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;Name&gt;</span>Medium<span class="nt">&lt;/Name&gt;</span>
       <span class="nt">&lt;MinScaleDenominator&gt;</span>100000000<span class="nt">&lt;/MinScaleDenominator&gt;</span>
       <span class="nt">&lt;MaxScaleDenominator&gt;</span>200000000<span class="nt">&lt;/MaxScaleDenominator&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#0000CC<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>4<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
     <span class="nt">&lt;Rule&gt;</span>
       <span class="nt">&lt;Name&gt;</span>Small<span class="nt">&lt;/Name&gt;</span>
       <span class="nt">&lt;MinScaleDenominator&gt;</span>200000000<span class="nt">&lt;/MinScaleDenominator&gt;</span>
       <span class="nt">&lt;PolygonSymbolizer&gt;</span>
         <span class="nt">&lt;Fill&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#0000CC<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Fill&gt;</span>
         <span class="nt">&lt;Stroke&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/CssParameter&gt;</span>
           <span class="nt">&lt;CssParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/CssParameter&gt;</span>
         <span class="nt">&lt;/Stroke&gt;</span>
       <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
     <span class="nt">&lt;/Rule&gt;</span>
   <span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id18">
<h3>Details<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>It is often desirable to make shapes larger at higher zoom levels when creating a natural-looking map. This example varies the thickness of the lines according to the zoom level. Polygons already do this by nature of being two dimensional, but another way to adjust styling of polygons based on zoom level is to adjust the thickness of the stroke (to be larger as the map is zoomed in) or to limit labels to only certain zoom levels. This is ensures that the size and quantity of strokes and labels remains legible and doesn&#8217;t overshadow the polygons themselves.</p>
<p>Zoom levels (or more accurately, scale denominators) refer to the scale of the map. A scale denominator of 10,000 means the map has a scale of 1:10,000 in the units of the map projection.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Determining the appropriate scale denominators (zoom levels) to use is beyond the scope of this example.</p>
</div>
<p>This style contains three rules, defined as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="15%" />
<col width="40%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Rule order</strong></td>
<td><strong>Rule name</strong></td>
<td><strong>Scale denominator</strong></td>
<td><strong>Stroke width</strong></td>
<td><strong>Label display?</strong></td>
</tr>
<tr class="row-even"><td>1</td>
<td>Large</td>
<td>1:100,000,000 or less</td>
<td>7</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Medium</td>
<td>1:100,000,000 to 1:200,000,000</td>
<td>4</td>
<td>No</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Small</td>
<td>Greater than 1:200,000,000</td>
<td>2</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>The first rule, on <strong>lines 2-36</strong>, is for the smallest scale denominator, corresponding to when the view is &#8220;zoomed in&#8221;.  The scale rule is set on <strong>line 40</strong> such that the rule will apply only where the scale denominator is 100,000,000 or less. <strong>Line 7</strong> defines the fill as blue (<tt class="docutils literal"><span class="pre">#0000CC</span></tt>).  Note that the fill is kept constant across all rules regardless of the scale denominator.  As in the <a class="reference internal" href="#sld-cookbook-polygons-polygonwithdefaultlabel"><em>Polygon with default label</em></a> or <a class="reference internal" href="#sld-cookbook-polygons-polygonwithstyledlabel"><em>Polygon with styled label</em></a> examples, the rule also contains a <tt class="docutils literal"><span class="pre">&lt;TextSymbolizer&gt;</span></tt> at <strong>lines 14-35</strong> for drawing a text label on top of the polygon.  <strong>Lines 19-22</strong> set the font information to be Arial, 14 pixels, and bold with no italics.  The label is centered both horizontally and vertically along the centroid of the polygon on by setting <tt class="docutils literal"><span class="pre">&lt;AnchorPointX&gt;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;AnchorPointY&gt;</span></tt> to both be 0.5 (or 50%) on <strong>lines 27-28</strong>.  Finally, the color of the font is set to white (<tt class="docutils literal"><span class="pre">#FFFFFF</span></tt>) in <strong>line 33</strong>.</p>
<p>The second rule, on <strong>lines 37-50</strong>, is for the intermediate scale denominators, corresponding to when the view is &#8220;partially zoomed&#8221;.  The scale rules on <strong>lines 39-40</strong> set the rule such that it will apply to any map with a scale denominator between 100,000,000 and 200,000,000.  (The <tt class="docutils literal"><span class="pre">&lt;MinScaleDenominator&gt;</span></tt> is inclusive and the <tt class="docutils literal"><span class="pre">&lt;MaxScaleDenominator&gt;</span></tt> is exclusive, so a zoom level of exactly 200,000,000 would <em>not</em> apply here.)  Aside from the scale, there are two differences between this rule and the first: the width of the stroke is set to 4 pixels on <strong>line 47</strong> and a <tt class="docutils literal"><span class="pre">&lt;TextSymbolizer&gt;</span></tt> is not present so that no labels will be displayed.</p>
<p>The third rule, on <strong>lines 51-63</strong>, is for the largest scale denominator, corresponding to when the map is &#8220;zoomed out&#8221;.  The scale rule is set on <strong>line 53</strong> such that the rule will apply to any map with a scale denominator of 200,000,000 or greater. Again, the only differences between this rule and the others are the width of the lines, which is set to 1 pixel on <strong>line 60</strong>, and the absence of a <tt class="docutils literal"><span class="pre">&lt;TextSymbolizer&gt;</span></tt> so that no labels will be displayed.</p>
<p>The resulting style produces a polygon stroke that gets larger as one zooms in and labels that only display when zoomed in to a sufficient level.</p>
</div>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="lines.html" title="previous chapter">Lines</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="rasters.html" title="next chapter">Rasters</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Polygons</a><ul>
<li><a class="reference internal" href="#example-polygons-layer">Example polygons layer</a></li>
<li><a class="reference internal" href="#simple-polygon">Simple polygon</a><ul>
<li><a class="reference internal" href="#code">Code</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simple-polygon-with-stroke">Simple polygon with stroke</a><ul>
<li><a class="reference internal" href="#id1">Code</a></li>
<li><a class="reference internal" href="#id2">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#transparent-polygon">Transparent polygon</a><ul>
<li><a class="reference internal" href="#id3">Code</a></li>
<li><a class="reference internal" href="#id4">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#graphic-fill">Graphic fill</a><ul>
<li><a class="reference internal" href="#id5">Code</a></li>
<li><a class="reference internal" href="#id6">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hatching-fill">Hatching fill</a><ul>
<li><a class="reference internal" href="#id7">Code</a></li>
<li><a class="reference internal" href="#id8">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#polygon-with-default-label">Polygon with default label</a><ul>
<li><a class="reference internal" href="#id9">Code</a></li>
<li><a class="reference internal" href="#id10">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#label-halo">Label halo</a><ul>
<li><a class="reference internal" href="#id11">Code</a></li>
<li><a class="reference internal" href="#id12">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#polygon-with-styled-label">Polygon with styled label</a><ul>
<li><a class="reference internal" href="#id13">Code</a></li>
<li><a class="reference internal" href="#id14">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#attribute-based-polygon">Attribute-based polygon</a><ul>
<li><a class="reference internal" href="#id15">Code</a></li>
<li><a class="reference internal" href="#id16">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zoom-based-polygon">Zoom-based polygon</a><ul>
<li><a class="reference internal" href="#id17">Code</a></li>
<li><a class="reference internal" href="#id18">Details</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="lines.html" title="previous chapter">Lines</a></li>
            <li>Next: <a href="rasters.html" title="next chapter">Rasters</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../../_sources/styling/sld-cookbook/polygons.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>