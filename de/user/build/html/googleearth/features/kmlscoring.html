
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>KML Scoring &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../../index.html" />
      <link rel="up" title="Features" href="index.html" />
      <link rel="next" title="Extensions" href="../../extensions/index.html" />
      <link rel="prev" title="KML Regionation" href="kmlregionation.html" />
</head>
<body class="googleearth/features/kmlscoring">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Google Earth</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Features</a> &raquo;</li>
  <li>KML Scoring</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../../extensions/index.html" title="Extensions"
       accesskey="N">next</a></li>
  <li>
    <a href="kmlregionation.html" title="KML Regionation"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="kml-scoring">
<span id="ge-feature-kml-scoring"></span><h1>KML Scoring<a class="headerlink" href="#kml-scoring" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">KML scoring only applies when using the super-overlay mode <tt class="docutils literal"><span class="pre">refresh</span></tt>.  See <a class="reference internal" href="kmlsuperoverlays.html#ge-feature-kml-super-overlays"><em>KML Super-Overlays</em></a> for more information.</p>
</div>
<p>GeoServer can return KML in one of two forms. The first is as a number of placemark elements (vectors). Each placemark corresponds to a feature in the underlying dataset. This form only applies to vector datasets.</p>
<p>The second form is as an overlay (image). In this form the rendering is done by the GeoServer WMS and only the resulting graphic is sent to Google Earth. This is the only form available for raster datasets, but can be applied to vector datasets as well.</p>
<p>There are advantages to and disadvantages to each output mode when rendering vector data.  Placemarks look nicer, but there can be performance problems with Google Earth if the data set is large. Overlays put less of a strain on Google Earth, but aren&#8217;t as nice looking.</p>
<p>The following shows the same dataset rendered in Placemark form on the top and Overlay form on the bottom.</p>
<div class="figure align-center">
<img alt="../../_images/vector.png" src="../../_images/vector.png" />
</div>
<div class="figure align-center">
<img alt="../../_images/raster.png" src="../../_images/raster.png" />
</div>
<p>KML scoring is the process of determing whether to render features as rasters or as vectors.</p>
<div class="section" id="the-kmscore-attribute">
<h2>The kmscore attribute<a class="headerlink" href="#the-kmscore-attribute" title="Permalink to this headline">¶</a></h2>
<p>GeoServer makes the determination on whether to render a layer as raster or vector based on how many features are in the data set and an attribute called <tt class="docutils literal"><span class="pre">kmscore</span></tt>.  The <tt class="docutils literal"><span class="pre">kmscore</span></tt> attribute determines the maximum amount of vector features rendered.  It is calculated by this formula:</p>
<div class="highlight-python"><pre>maximum number of features = 10^(kmscore/15)</pre>
</div>
<p>The following table shows the values of this threashold for various values of the <tt class="docutils literal"><span class="pre">kmscore</span></tt> parameter:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>kmscore</strong></td>
<td><strong>Maximum # of features</strong></td>
</tr>
<tr class="row-even"><td>0</td>
<td>Force overlay/raster output</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>4</td>
</tr>
<tr class="row-even"><td>20</td>
<td>21</td>
</tr>
<tr class="row-odd"><td>30</td>
<td>100</td>
</tr>
<tr class="row-even"><td>40</td>
<td>Approx. 450</td>
</tr>
<tr class="row-odd"><td>50</td>
<td>(<em>default</em>) Approx. 2150</td>
</tr>
<tr class="row-even"><td>60</td>
<td>Approx. 10,000</td>
</tr>
<tr class="row-odd"><td>70</td>
<td>Approx. 45,000</td>
</tr>
<tr class="row-even"><td>80</td>
<td>Approx. 200,000</td>
</tr>
<tr class="row-odd"><td>90</td>
<td>Approx. 1,000,000</td>
</tr>
<tr class="row-even"><td>100</td>
<td>Force placemark/vector output</td>
</tr>
</tbody>
</table>
<p>The syntax for specifying <tt class="docutils literal"><span class="pre">kmscore</span></tt> is:</p>
<div class="highlight-python"><pre>kmscore=&lt;value&gt;</pre>
</div>
<p>where <tt class="docutils literal"><span class="pre">&lt;value&gt;</span></tt> is an integer between 0 and 100.  For example:</p>
<div class="highlight-python"><pre>http://localhost:8080/geoserver/wms/kml?layers=topp:states&amp;mode=refresh&amp;kmscore=20</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">kmscore</span></tt> attribute will be ignored if using a reflector mode other than <tt class="docutils literal"><span class="pre">refresh</span></tt>.</p>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="kmlregionation.html" title="previous chapter">KML Regionation</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../../extensions/index.html" title="next chapter">Extensions</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">KML Scoring</a><ul>
<li><a class="reference internal" href="#the-kmscore-attribute">The kmscore attribute</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="kmlregionation.html" title="previous chapter">KML Regionation</a></li>
            <li>Next: <a href="../../extensions/index.html" title="next chapter">Extensions</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../../_sources/googleearth/features/kmlscoring.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>