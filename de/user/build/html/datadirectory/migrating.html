
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Migrating a Data Directory between different versions &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../index.html" />
      <link rel="up" title="GeoServer Data Directory" href="index.html" />
      <link rel="next" title="Web Administration Interface" href="../webadmin/index.html" />
      <link rel="prev" title="Structure of the Data Directory" href="data-dir-structure.html" />
</head>
<body class="datadirectory/migrating">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">GeoServer Data Directory</a> &raquo;</li>
  <li>Migrating a Data Directory between different versions</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../webadmin/index.html" title="Web Administration Interface"
       accesskey="N">next</a></li>
  <li>
    <a href="data-dir-structure.html" title="Structure of the Data Directory"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="migrating-a-data-directory-between-different-versions">
<span id="migrating-data-directory"></span><h1>Migrating a Data Directory between different versions<a class="headerlink" href="#migrating-a-data-directory-between-different-versions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="minor-and-major-version-numbers">
<h2>Minor and major version numbers<a class="headerlink" href="#minor-and-major-version-numbers" title="Permalink to this headline">¶</a></h2>
<p>There should generally be no problems or issues migrating data directories between major and minor versions of GeoServer (i.e. from 2.0.0 to 2.0.1 and vice versa, or from 1.6.x to 1.7.x and vice versa).</p>
</div>
<div class="section" id="migrating-between-geoserver-1-7-x-and-2-0-x">
<h2>Migrating between GeoServer 1.7.x and 2.0.x<a class="headerlink" href="#migrating-between-geoserver-1-7-x-and-2-0-x" title="Permalink to this headline">¶</a></h2>
<p>When using GeoServer 2.0.x with a data directory from the 1.7.x branch, modifications will occur to the directory <strong>immediately</strong> that will <strong>make the data directory incompatible with 1.7.x</strong>!  Below is a list of changes made to the data directory.</p>
<div class="section" id="files-and-directories-added">
<h3>Files and directories added<a class="headerlink" href="#files-and-directories-added" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>wfs.xml
wcs.xml
wms.xml
logging.xml
global.xml
workspaces/*
layergroups/*
styles/*.xml</pre>
</div>
</div>
<div class="section" id="files-renamed">
<h3>Files renamed<a class="headerlink" href="#files-renamed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">catalog.xml</span></tt> renamed to <tt class="docutils literal"><span class="pre">catalog.xml.old</span></tt></li>
<li><tt class="docutils literal"><span class="pre">services.xml</span></tt> renamed to <tt class="docutils literal"><span class="pre">services.xml.old</span></tt></li>
</ul>
</div>
</div>
<div class="section" id="reverting-from-geoserver-2-0-x-to-1-7-x">
<h2>Reverting from GeoServer 2.0.x to 1.7.x<a class="headerlink" href="#reverting-from-geoserver-2-0-x-to-1-7-x" title="Permalink to this headline">¶</a></h2>
<p>In order to revert the directory to be compatible with 1.7.x again:</p>
<ol class="arabic">
<li><p class="first">Stop GeoServer.</p>
</li>
<li><p class="first">Delete the following files and directories:</p>
<div class="highlight-python"><pre>wfs.xml
wcs.xml
wms.xml
logging.xml
global.xml
workspaces/*
layergroups/*
styles/*.xml</pre>
</div>
</li>
<li><p class="first">Rename <tt class="docutils literal"><span class="pre">catalog.xml.old</span></tt> to <tt class="docutils literal"><span class="pre">catalog.xml</span></tt>.</p>
</li>
<li><p class="first">Rename <tt class="docutils literal"><span class="pre">services.xml.old</span></tt> to <tt class="docutils literal"><span class="pre">services.xml</span></tt>.</p>
</li>
</ol>
</div>
<div class="section" id="migrating-between-geoserver-2-1-x-and-2-2-x">
<span id="migrating-data-directory-22x"></span><h2>Migrating between GeoServer 2.1.x and 2.2.x<a class="headerlink" href="#migrating-between-geoserver-2-1-x-and-2-2-x" title="Permalink to this headline">¶</a></h2>
<p>The security changes that ship with GeoServer 2.2 require modifications to the <tt class="docutils literal"><span class="pre">security</span></tt> directory of the
GeoServer data directory.</p>
<div class="section" id="id1">
<h3>Files and directories added<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>security/*.xml
security/masterpw.*
security/geoserver.jceks
security/auth/*
security/filter/*
security/masterpw/*
security/pwpolicy/*
security/role/*
security/usergroup/*</pre>
</div>
</div>
<div class="section" id="id2">
<h3>Files renamed<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">security/users.properties</span></tt> renamed to <tt class="docutils literal"><span class="pre">security/users.properties.old</span></tt></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="reverting-from-geoserver-2-1-x-and-2-1-x">
<h2>Reverting from GeoServer 2.1.x and 2.1.x<a class="headerlink" href="#reverting-from-geoserver-2-1-x-and-2-1-x" title="Permalink to this headline">¶</a></h2>
<p>In order to restore the GeoServer 2.1 configuration:</p>
<ol class="arabic">
<li><p class="first">Stop GeoServer.</p>
</li>
<li><p class="first">Rename <tt class="docutils literal"><span class="pre">users.properties.old</span></tt> to <tt class="docutils literal"><span class="pre">users.properties</span></tt>.</p>
</li>
<li><p class="first">Additionally (although not mandatory) delete the following files and directories:</p>
<div class="highlight-python"><pre>security/
  config.xml
  geoserver.jceks
  masterpw.xml
  masterpw.digest
  masterpw.info
  auth/
  filter/
  masterpw/
  pwpolicy/
  role/
  usergroup/</pre>
</div>
</li>
</ol>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="data-dir-structure.html" title="previous chapter">Structure of the Data Directory</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../webadmin/index.html" title="next chapter">Web Administration Interface</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Migrating a Data Directory between different versions</a><ul>
<li><a class="reference internal" href="#minor-and-major-version-numbers">Minor and major version numbers</a></li>
<li><a class="reference internal" href="#migrating-between-geoserver-1-7-x-and-2-0-x">Migrating between GeoServer 1.7.x and 2.0.x</a><ul>
<li><a class="reference internal" href="#files-and-directories-added">Files and directories added</a></li>
<li><a class="reference internal" href="#files-renamed">Files renamed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reverting-from-geoserver-2-0-x-to-1-7-x">Reverting from GeoServer 2.0.x to 1.7.x</a></li>
<li><a class="reference internal" href="#migrating-between-geoserver-2-1-x-and-2-2-x">Migrating between GeoServer 2.1.x and 2.2.x</a><ul>
<li><a class="reference internal" href="#id1">Files and directories added</a></li>
<li><a class="reference internal" href="#id2">Files renamed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reverting-from-geoserver-2-1-x-and-2-1-x">Reverting from GeoServer 2.1.x and 2.1.x</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="data-dir-structure.html" title="previous chapter">Structure of the Data Directory</a></li>
            <li>Next: <a href="../webadmin/index.html" title="next chapter">Web Administration Interface</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/datadirectory/migrating.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>