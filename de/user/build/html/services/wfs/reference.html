
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>WFS reference &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../../index.html" />
      <link rel="up" title="Web Feature Service" href="index.html" />
      <link rel="next" title="WFS output formats" href="outputformats.html" />
      <link rel="prev" title="WFS basics" href="basics.html" />
</head>
<body class="services/wfs/reference">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Services</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Web Feature Service</a> &raquo;</li>
  <li>WFS reference</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="outputformats.html" title="WFS output formats"
       accesskey="N">next</a></li>
  <li>
    <a href="basics.html" title="WFS basics"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="wfs-reference">
<span id="id1"></span><h1>WFS reference<a class="headerlink" href="#wfs-reference" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference external" href="http://www.opengeospatial.org/standards/wfs">Web Feature Service</a> (WFS) is a standard created by the Open Geospatial Consortium (OGC) for creating, modifying and exchanging vector format geographic information on the Internet using HTTP. A WFS encodes and transfers information in Geography Markup Language (GML), a subset of XML.</p>
<p>The current version of WFS is <strong>2.0.0</strong>. GeoServer supports versions 2.0.0, 1.1.0, and 1.0.0. Although there are some important differences between the versions, the request syntax often remains the same.</p>
<p>A related OGC specification, the <a class="reference internal" href="../wms/index.html#wms"><em>Web Map Service</em></a>, defines the standard for exchanging geographic information in digital image format.</p>
<div class="section" id="benefits-of-wfs">
<h2>Benefits of WFS<a class="headerlink" href="#benefits-of-wfs" title="Permalink to this headline">¶</a></h2>
<p>The WFS standard defines the framework for providing access to, and supporting transactions on, discrete geographic features in a manner that is independent of the underlying data source. Through a combination of discovery, query, locking, and transaction operations, users have access to the source spatial and attribute data in a manner that allows them to interrogate, style, edit (create, update, and delete), and download individual features. The transactional capabilities of WFS also support the development and deployment of collaborative mapping applications.</p>
</div>
<div class="section" id="operations">
<h2>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h2>
<p>All versions of WFS support the these operations:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">GetCapabilities</span></tt></td>
<td>Generates a metadata document describing a WFS service provided by server  as well as valid WFS operations and parameters</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">DescribeFeatureType</span></tt></td>
<td>Returns a description of feature types supported by a WFS service</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">GetFeature</span></tt></td>
<td>Returns a selection of features from a data source including geometry and attribute values</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">LockFeature</span></tt></td>
<td>Prevents a feature from being edited through a persistent feature lock</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Transaction</span></tt></td>
<td>Edits existing feature types by creating, updating, and deleting</td>
</tr>
</tbody>
</table>
<p>The following operations are available in <strong>version 2.0.0 only</strong>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">GetPropertyValue</span></tt></td>
<td>Retrieves the value of a feature property or part of the value of a complex feature property from the data store for a set of features identified using a query expression</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">GetFeatureWithLock</span></tt></td>
<td>Returns a selection of features and also applies a lock on those features</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">CreateStoredQuery</span></tt></td>
<td>Create a stored query on the WFS server</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">DropStoredQuery</span></tt></td>
<td>Deletes a stored query from the WFS server</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ListStoredQueries</span></tt></td>
<td>Returns a list of the stored queries on a WFS server</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">DescribeStoredQueries</span></tt></td>
<td>Returns a metadata document describing the stored queries on a WFS server</td>
</tr>
</tbody>
</table>
<p>The following operations are available in <strong>version 1.1.0 only</strong>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">GetGMLObject</span></tt></td>
<td>Retrieves features and elements by ID from a WFS</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the examples that follow, the fictional URL <tt class="docutils literal"><span class="pre">http://example.com/geoserver/wfs</span></tt> is used for illustration. To test the examples, substitute the address of a valid WFS. Also, although the request would normally be defined on one line with no breaks, breaks are added for clarity in the examples provided.</p>
</div>
<div class="section" id="getcapabilities">
<span id="wfs-getcap"></span><h3>GetCapabilities<a class="headerlink" href="#getcapabilities" title="Permalink to this headline">¶</a></h3>
<p>The <strong>GetCapabilities</strong> operation is a request to a WFS server for a list of the operations and services, or <em>capabilities</em>, supported by that server.</p>
<p>To issue a GET request using HTTP:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=1.1.0&amp;
  request=GetCapabilities</pre>
</div>
<p>The equivalent request using POST:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;GetCapabilities</span>
 <span class="na">service=</span><span class="s">&quot;WFS&quot;</span>
 <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/wfs&quot;</span>
 <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
 <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/wfs</span>
<span class="s"> http://schemas.opengis.net/wfs/1.1.0/wfs.xsd&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>GET requests are simplest to decode, but the POST requests are equivalent.</p>
<p>The parameters for GetCapabilities are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required?</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">service</span></tt></td>
<td>Yes</td>
<td>Service name—Value is <tt class="docutils literal"><span class="pre">WFS</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">version</span></tt></td>
<td>Yes</td>
<td>Service version—Value is the current version number. The full version number must be supplied (&#8220;1.1.0&#8221;, &#8220;1.0.0&#8221;), not the abbreviated form (&#8220;1&#8221; or &#8220;1.1&#8221;).</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">request</span></tt></td>
<td>Yes</td>
<td>Operation name—Value is <tt class="docutils literal"><span class="pre">GetCapabilities</span></tt></td>
</tr>
</tbody>
</table>
<p>Although all of the above parameters are technically required as per the specification, GeoServer will provide default values if any parameters are omitted from a request.</p>
<p>The GetCapabilities response is a lengthy XML document, the format of which is different for each of the supported versions. There are five main components in a GetCapabilities document:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Component</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ServiceIdentification</span></tt></td>
<td>Contains basic header information for the request such as the <tt class="docutils literal"><span class="pre">Title</span></tt> and <tt class="docutils literal"><span class="pre">ServiceType</span></tt>. The <tt class="docutils literal"><span class="pre">ServiceType</span></tt> indicates which version(s) of WFS are supported.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ServiceProvider</span></tt></td>
<td>Provides contact information about the company publishing the WFS service, including telephone, website, and email.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">OperationsMetadata</span></tt></td>
<td>Describes the operations that the WFS server supports and the parameters for each operation. A WFS server may be configured not to respond to the operations listed above.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">FeatureTypeList</span></tt></td>
<td>Lists the feature types published by a WFS server. Feature types are listed in the form <tt class="docutils literal"><span class="pre">namespace:featuretype</span></tt>. The default projection of the feature type is also listed, along with the bounding box for the data in the stated projection.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Filter_Capabilities</span></tt></td>
<td>Lists the filters, or expressions, that are available to form query predicates, for example, <tt class="docutils literal"><span class="pre">SpatialOperators</span></tt> (such as <tt class="docutils literal"><span class="pre">Equals</span></tt>, <tt class="docutils literal"><span class="pre">Touches</span></tt>) and <tt class="docutils literal"><span class="pre">ComparisonOperators</span></tt> (such as <tt class="docutils literal"><span class="pre">LessThan</span></tt>, <tt class="docutils literal"><span class="pre">GreaterThan</span></tt>). The filters themselves are not included in the GetCapabilities document.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="describefeaturetype">
<span id="wfs-dft"></span><h3>DescribeFeatureType<a class="headerlink" href="#describefeaturetype" title="Permalink to this headline">¶</a></h3>
<p><strong>DescribeFeatureType</strong> requests information about an individual feature type before requesting the actual data. Specifically, the operation will request a list of features and attributes for the given feature type, or list the feature types available.</p>
<p>The parameters for DescribeFeatureType are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required?</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">service</span></tt></td>
<td>Yes</td>
<td>Service name—Value is <tt class="docutils literal"><span class="pre">WFS</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">version</span></tt></td>
<td>Yes</td>
<td>Service version—Value is the current version number</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">request</span></tt></td>
<td>Yes</td>
<td>Operation name—Value is <tt class="docutils literal"><span class="pre">DescribeFeatureType</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">typeNames</span></tt></td>
<td>Yes</td>
<td>Name of the feature type to describe</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">exceptions</span></tt></td>
<td>No</td>
<td>Format for reporting exceptions—default value is <tt class="docutils literal"><span class="pre">application/vnd.ogc.se_xml</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">outputFormat</span></tt></td>
<td>No</td>
<td>Defines the scheme description language used to describe feature types</td>
</tr>
</tbody>
</table>
<p>To return a list of feature types, the GET request would be as follows. This request will return the list of feature types, sorted by namespace:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=DescribeFeatureType</pre>
</div>
<p>To list information about a specific feature type called <tt class="docutils literal"><span class="pre">namespace:featuretype</span></tt>, the GET request would be:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=DescribeFeatureType&amp;
  typeName=namespace:featuretype</pre>
</div>
</div>
<div class="section" id="getfeature">
<span id="wfs-getfeature"></span><h3>GetFeature<a class="headerlink" href="#getfeature" title="Permalink to this headline">¶</a></h3>
<p>The <strong>GetFeature</strong> operation returns a selection of features from the data source.</p>
<p>This request will execute a GetFeature request for a given layer <tt class="docutils literal"><span class="pre">namespace:featuretype</span></tt>:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype</pre>
</div>
<p>Executing this command will return the geometries for all features in given a feature type, potentially a large amount of data. To limit the output you can restrict the GetFeature request to a single feature by including an additional parameter, <tt class="docutils literal"><span class="pre">featureID</span></tt> and providing the ID of a specific feature. In this case, the GET request would be:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype&amp;
  featureID=feature</pre>
</div>
<p>If the ID of the feature is unknown but you still want to limit the amount of features returned, use the <tt class="docutils literal"><span class="pre">maxFeatures</span></tt> parameter. In the example below, <tt class="docutils literal"><span class="pre">N</span></tt> represents the number of features to return:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype&amp;
  maxFeatures=N</pre>
</div>
<p>Exactly which N features will be returned depends in the internal structure of the data. However, you can sort the returned selection based on an attribute value. In the following example, an attribute is included in the request using the <tt class="docutils literal"><span class="pre">sortBy=attribute</span></tt> parameter (replace <tt class="docutils literal"><span class="pre">attribute</span></tt> with the attribute you wish to sort by):</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
   service=wfs&amp;
   version=2.0.0&amp;
   request=GetFeature&amp;
   typeName=namespace:featuretype&amp;
   maxFeatures=N&amp;
   sortBy=attribute</pre>
</div>
<p>The default sort operation is to sort in ascending order. Some WFS servers require the sort order to be specified, even if an ascending order sort if required. In this case, append a <tt class="docutils literal"><span class="pre">+A</span></tt> to the request. Conversely, add a <tt class="docutils literal"><span class="pre">+D</span></tt> to the request to sort in descending order as follows:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype&amp;
  maxFeatures=N&amp;
  sortBy=attribute+D</pre>
</div>
<p>There is no obligation to use <tt class="docutils literal"><span class="pre">sortBy</span></tt> with <tt class="docutils literal"><span class="pre">maxFeatures</span></tt> in a GetFeature request, but they can be used together to manage the returned selection of features more effectively.</p>
<p>To restrict a GetFeature request by attribute rather than feature, use the <tt class="docutils literal"><span class="pre">propertyName</span></tt> key in the form <tt class="docutils literal"><span class="pre">propertyName=attribute</span></tt>. You can specify a single attribute, or multiple attributes separated by commas. To search for a single attribute in all features, the following request would be required:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype&amp;
  propertyName=attribute</pre>
</div>
<p>For a single property from just one feature, use both <tt class="docutils literal"><span class="pre">featureID</span></tt> and <tt class="docutils literal"><span class="pre">propertyName</span></tt>:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype&amp;
  featureID=feature&amp;
  propertyName=attribute</pre>
</div>
<p>For more than one property from a single feature, use a comma-seaprated list of values for <tt class="docutils literal"><span class="pre">propertyName</span></tt>:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype&amp;
  featureID=feature&amp;
  propertyName=attribute1,attribute2</pre>
</div>
<p>While the above permutations for a GetFeature request focused on non-spatial parameters, it is also possible to query for features based on geometry. While there are limited options available in a GET request for spatial queries (more are available in POST requests using filters), filtering by bounding box (BBOX) is supported.</p>
<p>The BBOX parameter allows you to search for features that are contained (or partially contained) inside a box of user-defined coordinates. The format of the BBOX parameter is <tt class="docutils literal"><span class="pre">bbox=a1,b1,a2,b2``where</span> <span class="pre">``a1</span></tt>, <tt class="docutils literal"><span class="pre">b1</span></tt>, <tt class="docutils literal"><span class="pre">a2</span></tt>, and <tt class="docutils literal"><span class="pre">b2</span></tt> represent the coordinate values. The order of coordinates passed to the BBOX parameter depends on the coordinate system used. (This is why the coordinate syntax isn&#8217;t represented with <tt class="docutils literal"><span class="pre">x</span></tt> or <tt class="docutils literal"><span class="pre">y</span></tt>.) To specify the coordinate system, append <tt class="docutils literal"><span class="pre">srsName=CRS</span></tt> to the WFS request, where <tt class="docutils literal"><span class="pre">CRS</span></tt> is the Coordinate Reference System you wish to use.</p>
<p>As for which corners of the bounding box to specify, the only requirement is for a bottom corner (left or right) to be provided first. For example, bottom left and top right, or bottom right and top left.</p>
<p>An example request involving returning features based on bounding box would be in the following format:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetFeature&amp;
  typeName=namespace:featuretype&amp;
  srsName=CRS
  bbox=a1,b1,a2,b2</pre>
</div>
</div>
<div class="section" id="lockfeature">
<h3>LockFeature<a class="headerlink" href="#lockfeature" title="Permalink to this headline">¶</a></h3>
<p>A <strong>LockFeature</strong> operation provides a long-term feature locking mechanism to ensure consistency in edit transactions. If one client fetches a feature and makes some changes before submitting it back to the WFS, locks prevent other clients from making any changes to the same feature, ensuring a transaction that can be serialized. If a WFS server supports this operation, it will be reported in the server&#8217;s GetCapabilities response.</p>
<p>In practice, few clients support this operation.</p>
</div>
<div class="section" id="transaction">
<span id="wfs-wfst"></span><h3>Transaction<a class="headerlink" href="#transaction" title="Permalink to this headline">¶</a></h3>
<p>The <strong>Transaction</strong> operation can create, modify, and delete features published by a WFS. Each transaction will consist of zero or more Insert, Update, and Delete elements, with each transaction element performed in order. Every GeoServer transaction is <em>atomic</em>, meaning that if any of the elements fail, the transaction is abandoned and the data is unaltered. A WFS server that supports <strong>transactions</strong> is sometimes known as a WFS-T server. <strong>GeoServer fully supports transactions.</strong></p>
<p>More information on the syntax of transactions can be found in the <a class="reference external" href="http://www.opengeospatial.org/standards/wfs">WFS specification</a> and in the <a class="reference internal" href="../../webadmin/demos/index.html#webadmin-demos"><em>GeoServer sample requests</em></a>.</p>
</div>
<div class="section" id="getgmlobject">
<h3>GetGMLObject<a class="headerlink" href="#getgmlobject" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operation is valid for <strong>WFS version 1.1.0 only</strong>.</p>
</div>
<p>A <strong>GetGMLObject</strong> operation accepts the identifier of a GML object (feature or geometry) and returns that object. This operation is relevant only in situations that require <a class="reference internal" href="../../data/app-schema/complex-features.html#app-schema-complex-features"><em>Complex Features</em></a> by allowing clients to extract just a portion of the nested properties of a complex feature. As a result, this operation is not widely used by client applications.</p>
</div>
<div class="section" id="getpropertyvalue">
<h3>GetPropertyValue<a class="headerlink" href="#getpropertyvalue" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operation is valid for <strong>WFS version 2.0.0 only</strong>.</p>
</div>
<p>A <strong>GetPropertyValue</strong> operation retrieves the value of a feature property, or part of the value of a complex feature property, from a data source for a given set of features identified by a query.</p>
<p>This example retrieves the geographic content only of the features in the <tt class="docutils literal"><span class="pre">topp:states</span></tt> layer:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  service=wfs&amp;
  version=2.0.0&amp;
  request=GetPropertyValue&amp;
  typeNames=topp:states&amp;
  valueReference=the_geom</pre>
</div>
<p>The same example in a POST request:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;wfs:GetPropertyValue</span> <span class="na">service=</span><span class="s">&#39;WFS&#39;</span> <span class="na">version=</span><span class="s">&#39;2.0.0&#39;</span>
 <span class="na">xmlns:topp=</span><span class="s">&#39;http://www.openplans.org/topp&#39;</span>
 <span class="na">xmlns:fes=</span><span class="s">&#39;http://www.opengis.net/fes/2.0&#39;</span>
 <span class="na">xmlns:wfs=</span><span class="s">&#39;http://www.opengis.net/wfs/2.0&#39;</span>
 <span class="na">valueReference=</span><span class="s">&#39;the_geom&#39;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;wfs:Query</span> <span class="na">typeNames=</span><span class="s">&#39;topp:states&#39;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/wfs:GetPropertyValue&gt;</span>
</pre></div>
</div>
<p>To retrieve value for a different attribute, alter the <tt class="docutils literal"><span class="pre">valueReference</span></tt> parameter.</p>
</div>
<div class="section" id="getfeaturewithlock">
<h3>GetFeatureWithLock<a class="headerlink" href="#getfeaturewithlock" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operation is valid for <strong>WFS version 2.0.0 only</strong>.</p>
</div>
<p>A <strong>GetFeatureWithLock</strong> operation is similar to a <strong>GetFeature</strong> operation, except that when the set of features are returned from the WFS server, the features are also locked in anticipation of a subsequent transaction operation.</p>
<p>This POST example retrieves the features of the <tt class="docutils literal"><span class="pre">topp:states</span></tt> layer, but in addition locks those features for five minutes.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;wfs:GetFeatureWithLock</span> <span class="na">service=</span><span class="s">&#39;WFS&#39;</span> <span class="na">version=</span><span class="s">&#39;2.0.0&#39;</span>
 <span class="na">handle=</span><span class="s">&#39;GetFeatureWithLock-tc1&#39;</span> <span class="na">expiry=</span><span class="s">&#39;5&#39;</span> <span class="na">resultType=</span><span class="s">&#39;results&#39;</span>
 <span class="na">xmlns:topp=</span><span class="s">&#39;http://www.openplans.org/topp&#39;</span>
 <span class="na">xmlns:fes=</span><span class="s">&#39;http://www.opengis.net/fes/2.0&#39;</span>
 <span class="na">xmlns:wfs=</span><span class="s">&#39;http://www.opengis.net/wfs/2.0&#39;</span>
 <span class="na">valueReference=</span><span class="s">&#39;the_geom&#39;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;wfs:Query</span> <span class="na">typeNames=</span><span class="s">&#39;topp:states&#39;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/wfs:GetFeatureWithLock&gt;</span>
</pre></div>
</div>
<p>To adjust the lock time, alter the <tt class="docutils literal"><span class="pre">expiry</span></tt> parameter.</p>
</div>
<div class="section" id="createstoredquery">
<h3>CreateStoredQuery<a class="headerlink" href="#createstoredquery" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operation is valid for <strong>WFS version 2.0.0 only</strong>.</p>
</div>
<p>A <strong>CreateStoredQuery</strong> operation creates a stored query on the WFS server. The definition of the stored query is encoded in the <tt class="docutils literal"><span class="pre">StoredQueryDefinition</span></tt> parameter and is given an ID for a reference.</p>
<p>This POST example creates a new stored query (called &#8220;myStoredQuery&#8221;) that filters the <tt class="docutils literal"><span class="pre">topp:states</span></tt> layer to those features that are within a given area of interest (<tt class="docutils literal"><span class="pre">${AreaOfInterest}</span></tt>):</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;wfs:CreateStoredQuery</span> <span class="na">service=</span><span class="s">&#39;WFS&#39;</span> <span class="na">version=</span><span class="s">&#39;2.0.0&#39;</span>
 <span class="na">xmlns:wfs=</span><span class="s">&#39;http://www.opengis.net/wfs/2.0&#39;</span>
 <span class="na">xmlns:fes=</span><span class="s">&#39;http://www.opengis.org/fes/2.0&#39;</span>
 <span class="na">xmlns:gml=</span><span class="s">&#39;http://www.opengis.net/gml/3.2&#39;</span>
 <span class="na">xmlns:myns=</span><span class="s">&#39;http://www.someserver.com/myns&#39;</span>
 <span class="na">xmlns:topp=</span><span class="s">&#39;http://www.openplans.org/topp&#39;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;wfs:StoredQueryDefinition</span> <span class="na">id=</span><span class="s">&#39;myStoredQuery&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;wfs:Parameter</span> <span class="na">name=</span><span class="s">&#39;AreaOfInterest&#39;</span> <span class="na">type=</span><span class="s">&#39;gml:Polygon&#39;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;wfs:QueryExpressionText</span>
     <span class="na">returnFeatureTypes=</span><span class="s">&#39;topp:states&#39;</span>
     <span class="na">language=</span><span class="s">&#39;urn:ogc:def:queryLanguage:OGC-WFS::WFS_QueryExpression&#39;</span>
     <span class="na">isPrivate=</span><span class="s">&#39;false&#39;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wfs:Query</span> <span class="na">typeNames=</span><span class="s">&#39;topp:states&#39;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;fes:Filter&gt;</span>
          <span class="nt">&lt;fes:Within&gt;</span>
            <span class="nt">&lt;fes:ValueReference&gt;</span>the_geom<span class="nt">&lt;/fes:ValueReference&gt;</span>
             ${AreaOfInterest}
          <span class="nt">&lt;/fes:Within&gt;</span>
        <span class="nt">&lt;/fes:Filter&gt;</span>
      <span class="nt">&lt;/wfs:Query&gt;</span>
    <span class="nt">&lt;/wfs:QueryExpressionText&gt;</span>
  <span class="nt">&lt;/wfs:StoredQueryDefinition&gt;</span>
<span class="nt">&lt;/wfs:CreateStoredQuery&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="dropstoredquery">
<h3>DropStoredQuery<a class="headerlink" href="#dropstoredquery" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operation is valid for <strong>WFS version 2.0.0 only</strong>.</p>
</div>
<p>A <strong>DropStoredQuery</strong> operation drops a stored query previous created by a CreateStoredQuery operation. The request accepts the ID of the query to drop.</p>
<p>This example will drop a stored query with an ID of <tt class="docutils literal"><span class="pre">myStoredQuery</span></tt>:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  request=DropStoredQuery&amp;
  storedQuery_Id=myStoredQuery</pre>
</div>
<p>The same example in a POST request:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;wfs:DropStoredQuery</span>
 <span class="na">xmlns:wfs=</span><span class="s">&#39;http://www.opengis.net/wfs/2.0&#39;</span>
 <span class="na">service=</span><span class="s">&#39;WFS&#39;</span> <span class="na">id=</span><span class="s">&#39;myStoredQuery&#39;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="liststoredqueries">
<h3>ListStoredQueries<a class="headerlink" href="#liststoredqueries" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operation is valid for <strong>WFS version 2.0.0 only</strong>.</p>
</div>
<p>A <strong>ListStoredQueries</strong> operation returns a list of the stored queries currently maintained by the WFS server.</p>
<p>This example lists all stored queries on the server:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  request=ListStoredQueries&amp;
  service=wfs&amp;
  version=2.0.0</pre>
</div>
<p>The same example in a POST request:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;wfs:ListStoredQueries</span> <span class="na">service=</span><span class="s">&#39;WFS&#39;</span>
 <span class="na">version=</span><span class="s">&#39;2.0.0&#39;</span>
 <span class="na">xmlns:wfs=</span><span class="s">&#39;http://www.opengis.net/wfs/2.0&#39;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="describestoredqueries">
<h3>DescribeStoredQueries<a class="headerlink" href="#describestoredqueries" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operation is valid for <strong>WFS version 2.0.0 only</strong>.</p>
</div>
<p>A <strong>DescribeStoredQuery</strong> operation returns detailed metadata about each stored query maintained by the WFS server. A description of an individual query may be requested by providing the ID of the specific query. If no ID is provided, all queries are described.</p>
<p>This example describes the exsting stored query with an ID of <tt class="docutils literal"><span class="pre">urn:ogc:def:query:OGC-WFS::GetFeatureById</span></tt>:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wfs?
  request=DescribeStoredQueries&amp;
  storedQuery_Id=urn:ogc:def:query:OGC-WFS::GetFeatureById</pre>
</div>
<p>The same example in a POST request:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;wfs:DescribeStoredQueries</span>
 <span class="na">xmlns:wfs=</span><span class="s">&#39;http://www.opengis.net/wfs/2.0&#39;</span>
 <span class="na">service=</span><span class="s">&#39;WFS&#39;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;wfs:StoredQueryId&gt;</span>urn:ogc:def:query:OGC-WFS::GetFeatureById<span class="nt">&lt;/wfs:StoredQueryId&gt;</span>
<span class="nt">&lt;/wfs:DescribeStoredQueries&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>WFS also supports a number of formats for reporting exceptions. The supported values for exception reporting are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="35%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Format</th>
<th class="head">Syntax</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>XML</td>
<td><tt class="docutils literal"><span class="pre">exceptions=text/xml</span></tt></td>
<td><em>(default)</em> XML output</td>
</tr>
<tr class="row-odd"><td>JSON</td>
<td><tt class="docutils literal"><span class="pre">exceptions=application/json</span></tt></td>
<td>Simple JSON</td>
</tr>
<tr class="row-even"><td>JSONP</td>
<td><tt class="docutils literal"><span class="pre">exceptions=text/javascript</span></tt></td>
<td>Returns a JSONP in the form: <tt class="docutils literal"><span class="pre">paddingOutput(...jsonp...)</span></tt>. See <a class="reference internal" href="../wms/vendor.html#wms-vendor-parameters"><em>WMS vendor parameters</em></a> to change the callback name. Note that this format is disabled by default (See <a class="reference internal" href="../wms/global.html#wms-global-variables"><em>Global variables affecting WMS</em></a>).</td>
</tr>
</tbody>
</table>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="basics.html" title="previous chapter">WFS basics</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="outputformats.html" title="next chapter">WFS output formats</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">WFS reference</a><ul>
<li><a class="reference internal" href="#benefits-of-wfs">Benefits of WFS</a></li>
<li><a class="reference internal" href="#operations">Operations</a><ul>
<li><a class="reference internal" href="#getcapabilities">GetCapabilities</a></li>
<li><a class="reference internal" href="#describefeaturetype">DescribeFeatureType</a></li>
<li><a class="reference internal" href="#getfeature">GetFeature</a></li>
<li><a class="reference internal" href="#lockfeature">LockFeature</a></li>
<li><a class="reference internal" href="#transaction">Transaction</a></li>
<li><a class="reference internal" href="#getgmlobject">GetGMLObject</a></li>
<li><a class="reference internal" href="#getpropertyvalue">GetPropertyValue</a></li>
<li><a class="reference internal" href="#getfeaturewithlock">GetFeatureWithLock</a></li>
<li><a class="reference internal" href="#createstoredquery">CreateStoredQuery</a></li>
<li><a class="reference internal" href="#dropstoredquery">DropStoredQuery</a></li>
<li><a class="reference internal" href="#liststoredqueries">ListStoredQueries</a></li>
<li><a class="reference internal" href="#describestoredqueries">DescribeStoredQueries</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="basics.html" title="previous chapter">WFS basics</a></li>
            <li>Next: <a href="outputformats.html" title="next chapter">WFS output formats</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../../_sources/services/wfs/reference.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>