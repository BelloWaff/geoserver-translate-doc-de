
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>WMS configuration &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../../index.html" />
      <link rel="up" title="Web Map Service" href="index.html" />
      <link rel="next" title="Global variables affecting WMS" href="global.html" />
      <link rel="prev" title="WMS vendor parameters" href="vendor.html" />
</head>
<body class="services/wms/configuration">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="../index.html" accesskey="U">Services</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Web Map Service</a> &raquo;</li>
  <li>WMS configuration</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="global.html" title="Global variables affecting WMS"
       accesskey="N">next</a></li>
  <li>
    <a href="vendor.html" title="WMS vendor parameters"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="wms-configuration">
<span id="id1"></span><h1>WMS configuration<a class="headerlink" href="#wms-configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="layer-groups">
<h2>Layer Groups<a class="headerlink" href="#layer-groups" title="Permalink to this headline">¶</a></h2>
<p>A Layer Group is a group of layers that can be referred to by one layer name.  For example, if you put three layers (call them layer_A, layer_B, and layer_C) under the one &#8220;Layer Group&#8221; layer, then when a user makes a WMS getMap request for that group name, they will get a map of those three layers.</p>
<p>For information on configuring Layer Groups in the Web Administration Interface see <a class="reference internal" href="../../webadmin/data/layergroups.html#webadmin-layergroups"><em>Layer Groups</em></a></p>
</div>
<div class="section" id="request-limits">
<span id="wms-configuration-limits"></span><h2>Request limits<a class="headerlink" href="#request-limits" title="Permalink to this headline">¶</a></h2>
<p>The request limit options allow the administrator to limit the resources consumed by each WMS <tt class="docutils literal"><span class="pre">GetMap</span></tt> request.</p>
<p>The following table shows each option name, a description, and the minimum GeoServer version at which the option is available (old versions will just ignore it if set).</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="80%" />
<col width="10%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Option</strong></td>
<td><strong>Description</strong></td>
<td><strong>Version</strong></td>
</tr>
<tr class="row-even"><td><strong>maxRequestMemory</strong></td>
<td>Sets the maximum amount of memory, in kilobytes, a single GetMap request is allowed to use. Each output format will make a best effort attempt to respect the maximum using the highest consuming portion of the request processing as a reference. For example, the PNG output format will take into consideration the memory used to prepare the image rendering surface in memory, usually proportional to the image size multiplied by the number of bytes per pixel</td>
<td>1.7.5</td>
</tr>
<tr class="row-odd"><td><strong>maxRenderingTime</strong></td>
<td>Sets the maximum amount of time, in seconds, GeoServer will use to process the request. This time limits the &#8220;blind processing&#8221; portion of the request serving, that is, the part in which GeoServer is computing the results before writing them out to the client. The portion that     is writing results back to the client is not under the control of this parameter, since this time is also controlled by how fast the network between the server and the client is. So, for example, in the case of PNG/JPEG image generation, this option will control the pure rendering time, but not the time used to write the results back.</td>
<td>1.7.5</td>
</tr>
<tr class="row-even"><td><strong>maxRenderingErrors</strong></td>
<td>Sets the maximum amount of rendering errors tolerated by a GetMap. Usually GetMap skips over faulty features, reprojection errors and the like in an attempt to serve the results anyways. This makes for a best effort rendering, but also makes it harder to spot issues, and consumes CPU cycles as each error is handled and logged</td>
<td>1.7.5</td>
</tr>
</tbody>
</table>
<p>The default value of each limit is <tt class="docutils literal"><span class="pre">0</span></tt>, in this case the limit won&#8217;t be applied.</p>
<p>Once any of the set limits is exceeded, the GetMap operation will stop and a <tt class="docutils literal"><span class="pre">ServiceException</span></tt> will be returned to the client.</p>
<p>It is suggested that the administrator sets all of the above limits taking into consideration peak conditions. For example, while a GetMap request under normal circumstance may take less than a second, under high load it is acceptable for it to take longer, but usually, it&#8217;s not sane that a request goes on for 30 minutes straight. The following table shows an example or reasonable values for the configuration options above:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="10%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Option</strong></td>
<td><strong>Value</strong></td>
<td><strong>Rationale</strong></td>
</tr>
<tr class="row-even"><td>maxRequestMemory</td>
<td>16384</td>
<td>16MB are sufficient to render a 2048x2048 image at 4 bytes per pixel (full color and transparency), or a 8x8 meta-tile if you are using GeoWebCache or TileCache. Mind the rendering process will use an extra in memory buffer for each subsequent FeatureTypeStyle in your SLD, so this will also limit the size of the image. For example, if the SLD contains two FeatureTypeStyle element in order to draw cased lines for an highway the maximum image size will be limited to 1448x1448 (the memory goes like the square of the image size, so halving the memory does not halve the image size)</td>
</tr>
<tr class="row-odd"><td>maxRenderingTime</td>
<td>120</td>
<td>A request that processes for two minutes straight is probably drawing a lot of features independent of the current load. It might be the result of a client making a GetMap against a big layer using a custom style that does not have the proper scale dependencies</td>
</tr>
<tr class="row-even"><td>maxRenderingErrors</td>
<td>100</td>
<td>Encountering 100 errors is probably the result of a request that is trying to reproject a big data set into a projection that is not suited to area it covers, resulting in many reprojection failures.</td>
</tr>
</tbody>
</table>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="vendor.html" title="previous chapter">WMS vendor parameters</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="global.html" title="next chapter">Global variables affecting WMS</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">WMS configuration</a><ul>
<li><a class="reference internal" href="#layer-groups">Layer Groups</a></li>
<li><a class="reference internal" href="#request-limits">Request limits</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="vendor.html" title="previous chapter">WMS vendor parameters</a></li>
            <li>Next: <a href="global.html" title="next chapter">Global variables affecting WMS</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../../_sources/services/wms/configuration.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>