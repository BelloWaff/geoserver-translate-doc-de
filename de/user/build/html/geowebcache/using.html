
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <title>Using GeoWebCache &mdash; GeoServer 2.2.x User Manual</title>
  <link rel="stylesheet" href="../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/blueprint/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="../_static/default.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.x',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
      <link rel="top" title="GeoServer 2.2.x User Manual" href="../index.html" />
      <link rel="up" title="Caching with GeoWebCache" href="index.html" />
      <link rel="next" title="Configuration" href="config.html" />
      <link rel="prev" title="Caching with GeoWebCache" href="index.html" />
</head>
<body class="geowebcache/using">
  <div id="header" class="selfclear">
    <div class="wrap selfclear">
      <div id="logo"><a href="../index.html">GeoServer 2.2.x User Manual</a></div>
      <ul id="top-nav">
        <li class="first"><a href="http://geoserver.org/display/GEOS/What+is+Geoserver">About</a></li>
        <li><a href="http://blog.geoserver.org/">Blog</a></li>
        <li><a href="http://geoserver.org/display/GEOS/Download">Download</a></li>
        <li><a href="../index.html">Documentation</a></li>
      </ul>
        <form id="quick-search" action="../search.html" method="get">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
            <input id="quick-search-submit" type="image" value="Search" src="../_static/chrome/search_icon_green.png" />
          </fieldset>
        </form>
    </div><!-- /.wrap -->
  </div><!-- /#header -->
  <div id="main">
    <div class="wrap selfclear">
      <div id="content">
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoServer 2.2.x User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Caching with GeoWebCache</a> &raquo;</li>
  <li>Using GeoWebCache</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="config.html" title="Configuration"
       accesskey="N">next</a></li>
  <li>
    <a href="index.html" title="Caching with GeoWebCache"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="using-geowebcache">
<span id="gwc-using"></span><h1>Using GeoWebCache<a class="headerlink" href="#using-geowebcache" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For an more in-depth discussion of using GeoWebCache, please see the <a class="reference external" href="http://geowebcache.org/docs/">GeoWebCache documentation</a>.</p>
</div>
<div class="section" id="direct-integration-with-geoserver-wms">
<span id="gwc-directwms"></span><h2>Direct integration with GeoServer WMS<a class="headerlink" href="#direct-integration-with-geoserver-wms" title="Permalink to this headline">¶</a></h2>
<p>GeoWebCache can be transparently integrated with the GeoServer WMS, and so requires no special endpoint or custom URL. In this way one can have the simplicity of a standard WMS endpoint with the performance of a tiled client.</p>
<p>Although this direct integration is disabled by default, it can be enabled by going to the <a class="reference internal" href="../webadmin/tilecache/defaults.html#webadmin-tilecaching-defaults"><em>Caching defaults</em></a> page in the <a class="reference internal" href="../webadmin/index.html#web-admin"><em>Web Administration Interface</em></a>.</p>
<p>When this feature is enabled, GeoServer WMS will cache and retrieve tiles from GeoWebCache (via a GetMap request) only if <strong>all of the following criteria are followed</strong>:</p>
<ul class="simple">
<li>WMS Direct integration is enabled (you can set this on the <a class="reference internal" href="../webadmin/tilecache/defaults.html#webadmin-tilecaching-defaults"><em>Caching defaults</em></a> page)</li>
<li><tt class="docutils literal"><span class="pre">tiled=true</span></tt> is included in the request</li>
<li>The request only references a single layer</li>
<li>Caching is enabled for that layer</li>
<li>The image requested is of the same height and width as the size saved in the layer configuration</li>
<li>The requested CRS matches one of the available tile layer gridsets</li>
<li>The image requested lines up with the existing grid bounds</li>
<li>A parameter is included for which there is a corresponding Parameter Filter</li>
</ul>
<p>In addition, when direct integration is enabled, the WMS capabilities document (via a GetCapabilities request) will only return the WMS-C vendor-specific capabilities elements (such as a <tt class="docutils literal"><span class="pre">&lt;TileSet&gt;</span></tt> element for each cached layer/CRS/format combination) if <tt class="docutils literal"><span class="pre">tiled=true</span></tt> is appended to the GetCapabilities request.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For more information on WMS-C, please see the <a class="reference external" href="http://wiki.osgeo.org/wiki/WMS_Tiling_Client_Recommendation">WMS Tiling Client Recommendation</a> from OSGeo.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">GeoWebCache integration is not compatible with the OpenLayers-based <a class="reference internal" href="../webadmin/layerpreview/index.html#layerpreview"><em>Layer Preview</em></a>, as the preview does not usually align with the GeoWebCache layer gridset. This is because the OpenLayers application calculates the <tt class="docutils literal"><span class="pre">tileorigin</span></tt> based on the layer&#8217;s bounding box, which is different from the gridset. It is, possible to create an OpenLayers application that caches tiles; just make sure that the <tt class="docutils literal"><span class="pre">tileorigin</span></tt> aligns with the gridset.</p>
</div>
<div class="section" id="virtual-services">
<h3>Virtual services<a class="headerlink" href="#virtual-services" title="Permalink to this headline">¶</a></h3>
<p>When direct WMS integration is enabled, GeoWebCache will properly handle requests to <a class="reference internal" href="../services/virtual-services.html#virtual-services"><em>Virtual OWS Services</em></a> (<tt class="docutils literal"><span class="pre">/geoserver/&lt;workspace&gt;/wms?tiled=true&amp;...</span></tt>).</p>
<p>Virtual services capabilities documents will contain <tt class="docutils literal"><span class="pre">&lt;TileSet&gt;</span></tt> entries only for the layers that belong to that workspace (and global layer groups), and will be referenced by unqualified layer names (no namespace). For example, the layer <tt class="docutils literal"><span class="pre">topp:states</span></tt> will be referred to as <tt class="docutils literal"><span class="pre">&lt;Layers&gt;states&lt;/Layers&gt;</span></tt> instead of <tt class="docutils literal"><span class="pre">&lt;Layers&gt;topp:states&lt;/Layers&gt;</span></tt>, and GetMap requests to the virtual services endpoint using <tt class="docutils literal"><span class="pre">LAYERS=states</span></tt> will properly be handled.</p>
</div>
<div class="section" id="supported-parameter-filters">
<h3>Supported parameter filters<a class="headerlink" href="#supported-parameter-filters" title="Permalink to this headline">¶</a></h3>
<p>With direct WMS integration, the following parameter filters are supported for GetMap requests:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ANGLE</span></tt></li>
<li><tt class="docutils literal"><span class="pre">BGCOLOR</span></tt></li>
<li><tt class="docutils literal"><span class="pre">BUFFER</span></tt></li>
<li><tt class="docutils literal"><span class="pre">CQL_FILTER</span></tt></li>
<li><tt class="docutils literal"><span class="pre">ELEVATION</span></tt></li>
<li><tt class="docutils literal"><span class="pre">ENV</span></tt></li>
<li><tt class="docutils literal"><span class="pre">FEATUREID</span></tt></li>
<li><tt class="docutils literal"><span class="pre">FEATUREVERSION</span></tt></li>
<li><tt class="docutils literal"><span class="pre">FILTER</span></tt></li>
<li><tt class="docutils literal"><span class="pre">FORMAT_OPTIONS</span></tt></li>
<li><tt class="docutils literal"><span class="pre">MAXFEATURES</span></tt></li>
<li><tt class="docutils literal"><span class="pre">PALETTE</span></tt></li>
<li><tt class="docutils literal"><span class="pre">STARTINDEX</span></tt></li>
<li><tt class="docutils literal"><span class="pre">TIME</span></tt></li>
<li><tt class="docutils literal"><span class="pre">VIEWPARAMS</span></tt></li>
</ul>
<p>If a request is made using any of the above parameters, the request will be passed to GeoServer, unless a parameter filter has been set up, in which case GeoWebCache will process the request.</p>
</div>
</div>
<div class="section" id="geowebcache-endpoint-url">
<span id="gwc-endpoint"></span><h2>GeoWebCache endpoint URL<a class="headerlink" href="#geowebcache-endpoint-url" title="Permalink to this headline">¶</a></h2>
<p>When not using direct integration, you can point your client directly to GeoWebCache.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">GeoWebCache is not a true WMS, and so the following is an oversimplification. If you encounter errors, see the <a class="reference internal" href="troubleshooting.html#gwc-troubleshooting"><em>Troubleshooting</em></a> page for help.</p>
</div>
<p>To direct your client to GeoWebCache (and thus receive cached tiles) you need to change the WMS URL.</p>
<p>If your application requests WMS tiles from GeoServer at this URL:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/wms</pre>
</div>
<p>You can invoke the GeoWebCache WMS instead at this URL:</p>
<div class="highlight-python"><pre>http://example.com/geoserver/gwc/service/wms</pre>
</div>
<p>In other words, add <tt class="docutils literal"><span class="pre">/gwc/service/wms</span></tt> in between the path to your GeoServer instance and the WMS call.</p>
<p>As soon as tiles are requested through GeoWebCache, GeoWebCache automatically starts saving them. This means that initial requests for tiles will not be accelerated since GeoServer will still need to generate the tiles. To automate this process of requesting tiles, you can <strong>seed</strong> the cache. See the section on <a class="reference internal" href="seeding.html#gwc-seeding"><em>Seeding and refreshing</em></a> for more details.</p>
</div>
<div class="section" id="disk-quota">
<span id="gwc-diskquota"></span><h2>Disk quota<a class="headerlink" href="#disk-quota" title="Permalink to this headline">¶</a></h2>
<p>GeoWebCache has a built-in disk quota feature to prevent disk space from growing unbounded. You can set the maximum size of the cache directory, poll interval, and what policy of tile removal to use when the quota is exceeded. Tiles can be removed based on usage (&#8220;Least Frequently Used&#8221; or LFU) or timestamp (&#8220;Least Recently Used&#8221; or LRU).</p>
<p>Disk quotas are turned off by default, but can be configured on the <a class="reference internal" href="../webadmin/tilecache/diskquotas.html#webadmin-tilecaching-diskquotas"><em>Disk Quotas</em></a> page in the <a class="reference internal" href="../webadmin/index.html#web-admin"><em>Web Administration Interface</em></a>.</p>
</div>
<div class="section" id="integration-with-external-mapping-sites">
<h2>Integration with external mapping sites<a class="headerlink" href="#integration-with-external-mapping-sites" title="Permalink to this headline">¶</a></h2>
<p>The documentation on the <a class="reference external" href="http://geowebcache.org">GeoWebCache homepage</a> contains examples for creating applications that integrate with Google Maps, Google Earth, Bing Maps, and more.</p>
</div>
<div class="section" id="support-for-custom-projections">
<h2>Support for custom projections<a class="headerlink" href="#support-for-custom-projections" title="Permalink to this headline">¶</a></h2>
<p>The version of GeoWebCache that comes embedded in GeoServer automatically configures every layer served in GeoServer with the two most common projections:</p>
<ul class="simple">
<li><strong>EPSG:4326</strong> (latitude/longitude)</li>
<li><strong>EPSG:900913</strong> (Spherical Mercator, the projection used in Google Maps)</li>
</ul>
<p>You can also set a custom CRS from any that GeoServer recognizes. See the <a class="reference internal" href="../webadmin/tilecache/gridsets.html#webadmin-tilecaching-gridsets"><em>Gridsets</em></a> page for details.</p>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="index.html" title="previous chapter">Caching with GeoWebCache</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="config.html" title="next chapter">Configuration</a></div>
      </div>
      </div><!-- /#content> -->
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Using GeoWebCache</a><ul>
<li><a class="reference internal" href="#direct-integration-with-geoserver-wms">Direct integration with GeoServer WMS</a><ul>
<li><a class="reference internal" href="#virtual-services">Virtual services</a></li>
<li><a class="reference internal" href="#supported-parameter-filters">Supported parameter filters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#geowebcache-endpoint-url">GeoWebCache endpoint URL</a></li>
<li><a class="reference internal" href="#disk-quota">Disk quota</a></li>
<li><a class="reference internal" href="#integration-with-external-mapping-sites">Integration with external mapping sites</a></li>
<li><a class="reference internal" href="#support-for-custom-projections">Support for custom projections</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="index.html" title="previous chapter">Caching with GeoWebCache</a></li>
            <li>Next: <a href="config.html" title="next chapter">Configuration</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/geowebcache/using.txt">Show Source</a></li>
        </ul>
        </div>
  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div><!-- /#main -->
<div id="footer">
  <div class="wrap">
    &copy; Copyright GeoServer.
    Last updated on Jan 04, 2013.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>